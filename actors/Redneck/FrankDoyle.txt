Actor BlueFrankDoyle : SamsaraMonsterHumanoid
{
	Obituary "%o got %p ass shot up by Frank Doyle."
	Scale 0.375
	Radius 20
	Height 56
	Health 150
	Mass 240
	Species "RedneckEnemies"
	Speed 5
	+FLOORCLIP
	+MISSILEMORE
	+NOINFIGHTING
	+NOBLOODDECALS
	Monster
	SeeSound "doyle/see"
	PainSound "doyle/pain"
	DeathSound "doyle/pain"
	ActiveSound "doyle/talk"
	AttackSound "RR/SGFire"
	DropItem "FrankDoyleDrop"
	BloodType "LeonardBlood_RR"
	BloodColor "ba 2c 10"
	Tag "Frank Doyle"
	DamageFactor "Mace", 1.1
	DamageFactor "DragonClaw", 1.5
	PainChance "MightyBoot", 255
	PainChance "MarathonStun", 255
	PainChance 45
	States
	{
	Spawn:
		FRDS L 0
		FRDS L 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
		FRDS L 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
		FRDS L 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
		FRDS L 0 A_GiveInventory("AlreadySpawned",1)
	Spawn2:
		FRDS LMNOPQ 6 A_Look
		TNT1 A 0 A_PlaySound("Doyle/Snort",CHAN_ITEM)
		FRDS LMNOPQ 6 A_Look
		FRDS LMNOPQ 6 A_Look
		FRDS LMNOPQ 6 A_Look
		FRDS LMNOPQ 6 A_Look
		FRDS LMNOPQ 6 A_Look
		FRDS LMNOPQ 6 A_Look
		FRDS LMNOPQ 6 A_Look
		Loop
	See:
		TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
		TNT1 A 0 A_StopSound(CHAN_ITEM)
		TNT1 A 0 A_StopSound(CHAN_BODY)
		FRDY ABCDEFGH 4 A_Chase
		Goto See+1
	Pee:
		TNT1 A 0 A_PlaySound("Leonard/Pee",CHAN_BODY,1.0,1)
	PeeLoop:
		FRD1 ST 6 A_LookEx(0,0,0,0,360)
		Loop
	Missile:
		TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		FRDY K 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRDY I 4 Bright A_CustomBulletAttack(32, 64, 2, 10, "RRPuff",0,CBAF_NORANDOM)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRDY J 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRDY K 4 A_FaceTarget
		FRDY LM 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRDY N 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRDY O 4 Bright A_CustomBulletAttack(32, 64, 3, 10, "RRPuff",0,CBAF_NORANDOM)
		FRDY P 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRDY Q 4 A_FaceTarget
		TNT1 A 0 A_Jump(30,"See")
		TNT1 A 0 A_MonsterRefire(30, "See")
		Loop
	Pain:
		FRDS H 2 A_Pain
		FRDS IH 2
		Goto See
	Pain.MightyBoot:
		TNT1 A 0 A_ChangeFlag("NOPAIN",1)
		TNT1 A 0 A_PlaySound("duke/kickhit",CHAN_BODY)
		FRDS H 3 A_FaceTarget
		TNT1 A 0 A_Recoil(14)
		FRDS I 16 A_Pain
		Goto See
	Death:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		FRDY R 4 A_Scream
		FRDY STUVWX 4
		FRDY Y 2 A_NoBlocking
		FRDY Z 2
		FRDY "[]" 2
		FRDS ABCDEF 3
		TNT1 A 0 A_PlaySound("redneck/thud")
		TNT1 A -1 A_SpawnItemEx("BlueFrankDoyleCorpse_Normal", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
		Stop
	Death.Explosive:
	Death.DoomDamageTypeExplosive:
	XDeath:
	XDeath.Explosive:
	XDeath.DoomDamageTypeExplosive:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_ChangeFlag("SOLID",false)
		TNT1 A 0 A_PlaySound("Leonard/XDeath",CHAN_BODY)
		TNT1 A 0 A_JumpIfHealthLower(-60,"XDeath2")
		TNT1 A 0 A_GiveInventory("RREnemy_Gibbed", 1)
		FRDS R 4 A_Scream
		FRDS STU 4
		TNT1 A 0 A_CustomMissile("MiscGib1_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib2_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib3_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib4_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib5_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		FRDS W 4 A_CustomMissile("MiscGib6_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		FRDS XYZ 4
		FRDS "[" 4 A_NoBlocking
		FRDS "]" 4
		FRDX ABCDE 4
		TNT1 A -1 A_SpawnItemEx("BlueFrankDoyleCorpse_Gibbed", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
		Stop
	XDeath2:
		TNT1 A 0 A_CustomMissile("DoyleHead_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 AA 0 A_CustomMissile("DoyleArm_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 AA 0 A_CustomMissile("DoyleLeg_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("DoyleChest_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib1_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib2_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib3_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib4_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib5_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib6_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 5 A_NoBlocking
		Stop
	Death.LeonardDamage2:
	Death.LeonardDamage3:
		TNT1 A 0 A_JumpIfHealthLower(-20, "XDeathForLeonard")
	Death.RRBullet:
	Death.LeonardDamage0:
	Death.LeonardDamage1:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LeonardDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Death")
		wait
	XDeathForLeonard:
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("LeonardGibTaunt",1)
		TNT1 A -1 A_Jump(256,"XDeath")
		wait
	Death.CalebFire:
	Death.LifeLeech:
		TNT1 A 0 A_Jump(218, 2)
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
		TNT1 A 0 A_SpawnItemEx("BloodBurningCorpse_Generic_Leonard", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_Stop
		TNT1 A 5 A_NoBlocking
		TNT1 A -1 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		Stop
	Pain.ShrinkerDMG:
		FRDS H 0
		"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
		"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
		"####" "#" 0 A_ChangeFlag("NOPAIN", 1)
		"####" "#" 0 A_ChangeFlag("NODAMAGE", 1)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_PlaySound("duke/shrink")
		"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlueFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlueFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlueFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlueFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlueFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlueFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlueFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
		"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlueFrankDoyle_Shrink", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
		TNT1 A 2
		TNT1 A 0 Thing_Remove(0)
		Stop
	}
}

Actor FrankDoyleDrop
{
	Height 5
	Radius 5
	+NOCLIP
	+FLOORCLIP
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 15 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,4,0)
			TNT1 A 0 A_JumpIfInventory("WeaponDropToken", 1, "Spawn2")
			TNT1 A 1 A_DropItem("JeeterAmmoDrop", 1, 114)
			Stop
		Spawn2:
			TNT1 A 1 A_DropItem("RRAKDrop", 1, 256)
			Stop
	}
}

actor RRAKDrop : SamsaraSlotFourDrop
{
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        R_SR J 0 NoDelay ACS_NamedExecuteWithResult("Samsara_SwitchableObject", 37)
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        R_SR J -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

Actor BlueFrankDoyleCorpse_Normal : SamsaraCorpseActor
{
	Health 20
	Height 8
	Radius 16
	Mass 5000
	BloodType "LeonardBlood_RR"
	BloodColor "ba 2c 10"
	+ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	+VULNERABLE
	-SOLID
	+NOTARGET
	-FRIENDLY
	+NOBLOODDECALS
	States
	{
		Spawn:
			FRDS G 4
			Loop
		Death:
			TNT1 A 0 A_RemoveMaster
			TNT1 A 0 A_PlaySound("Leonard/XDeath",CHAN_BODY)
			TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			TNT1 A 0 A_CustomMissile("DoyleHead_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
			TNT1 AA 0 A_CustomMissile("DoyleArm_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
			TNT1 AA 0 A_CustomMissile("DoyleLeg_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
			TNT1 A 0 A_CustomMissile("DoyleChest_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
			TNT1 A 0 A_CustomMissile("MiscGib1_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
			TNT1 A 0 A_CustomMissile("MiscGib2_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
			TNT1 A 0 A_CustomMissile("MiscGib3_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
			TNT1 A 0 A_CustomMissile("MiscGib4_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
			TNT1 A 0 A_CustomMissile("MiscGib5_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
			TNT1 A 0 A_CustomMissile("MiscGib6_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
			TNT1 A 5 A_NoBlocking
			Stop
	}
}

Actor BlueFrankDoyleCorpse_Gibbed : BlueFrankDoyleCorpse_Normal
{
	States
	{
		Spawn:
			FRDX F 4
			Loop
	}
}

actor BlueFrankDoyle_Shrink : BlueFrankDoyle
{
	+FRIGHTENED
	+NOTRIGGER
	-SHOOTABLE
	+THRUACTORS
	+NORADIUSDMG
	+VULNERABLE
	+QUICKTORETALIATE
	+COUNTKILL
	-NOGRAVITY
	+NODAMAGE
	+NOPAIN
	MaxStepHeight 0
	MaxDropOffHeight 0
	MeleeRange 16
	Height 16
	Health 1
	Speed 1
	PainChance "ShrinkDMG", 0
	DamageFactor "ShrinkDMG", 0.0
	PainChance "ExpanderDMG", 0
	DamageFactor "ExpanderDMG", 0.0
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIfInventory("ShrunkToken",1,"SpawnLoop")
			TNT1 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			TNT1 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			TNT1 A 0 A_SetScale(scalex*0.2,scaley*0.2) // setting the scale in ACS does work, but the actor shows up at normal size for a split second
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_Shrinker", 0, 1)
			FRDS H 10
			Goto See
		SpawnLoop:
			FRDS LMNOPQ 6 A_Look
			TNT1 A 0 A_Jump(128,1)
			TNT1 A 0 A_PlaySound("Doyle/Snort",3)
			FRDS LMNOPQ 6 A_Look
			FRDS LMNOPQ 6 A_Look
			FRDS LMNOPQ 6 A_Look
			FRDS LMNOPQ 6 A_Look
			FRDS LMNOPQ 6 A_Look
			FRDS LMNOPQ 6 A_Look
			FRDS LMNOPQ 6 A_Look
			Loop
		See:
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRDY A 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRDY B 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRDY C 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRDY D 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRDY E 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRDY F 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRDY G 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRDY H 4 A_Chase("","")
			"####" "#" 0 A_JumpIf(CallACS("Samsara_Shrinker", 3) == 0, "Forget")
			Loop
		Forget:
			"####" "#" 0 A_ClearTarget
			Goto See
		Grow:
			"####" "#" 4 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(1.0*(user_scalex/65536.0),1.0*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BlueFrankDoyle", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 2 Thing_Remove(0)
			Stop
		Squish:
			"####" "#" 0 A_GiveInventory("SquishToken", 1)
			"####" "#" 0 A_JumpIfInTargetInventory("DukeStomp", 1, 2)
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 2
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 0
			"####" "#" 2 A_Die("Squish")
			"####" "#" 0
			Loop
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			Stop
		DukeStomp:
			"####" "#" 0 A_GiveToTarget("DukeStomp", 1)
			Goto Squish
	}
}

actor BlueFrankDoyle_ShrinkEffect : BlueFrankDoyle
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			FRDS H 0
			FRDS H 0 A_SetUserVar("user_scalex", scalex*65536.0)
			FRDS H 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

Actor BlueFrankDoyle_Type2 : BlueFrankDoyle
{
	+NOPAIN
	States
	{
		Spawn:
			FRD4 M 0
			FRD4 M 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
			FRD4 M 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
			FRD4 M 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
			FRD4 M 0 A_GiveInventory("AlreadySpawned",1)
		Spawn2:
			FRD4 M 5 A_Look
			Loop
		Idle:
			FRDY A 4 A_Look
			Loop
		See:
			TNT1 A 0 A_JumpIfInventory("SawPlayer",1,"SeeLoop")
			TNT1 A 0 A_GiveInventory("SawPlayer", 1)
			TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
			TNT1 A 0 A_StopSound(CHAN_BODY)
			FRD4 N 4 A_FaceTarget
			FRD4 OPQR 4
			TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		SeeLoop:
			FRDY ABCDEFGH 4 A_Chase
			Loop
		}
}

Actor BlackFrankDoyle : BlueFrankDoyle
{
	Health 150
	States
	{
	Spawn:
		FRD6 L 0
		FRD6 L 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
		FRD6 L 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
		FRD6 L 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
		FRD6 L 0 A_GiveInventory("AlreadySpawned",1)
	Spawn2:
		FRD6 LMNOPQ 6 A_Look
		TNT1 A 0 A_PlaySound("Doyle/Snort",CHAN_ITEM)
		FRD6 LMNOPQ 6 A_Look
		FRD6 LMNOPQ 6 A_Look
		FRD6 LMNOPQ 6 A_Look
		FRD6 LMNOPQ 6 A_Look
		FRD6 LMNOPQ 6 A_Look
		FRD6 LMNOPQ 6 A_Look
		FRD6 LMNOPQ 6 A_Look
		Loop
	See:
		TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
		TNT1 A 0 A_StopSound(CHAN_BODY)
		TNT1 A 0 A_StopSound(CHAN_ITEM)
		FRD5 ABCDEFGH 4 A_Chase
		Goto See+1
	Pee:
		TNT1 A 0 A_PlaySound("Leonard/Pee",CHAN_BODY,1.0,1)
	PeeLoop:
		FRD1 UV 6 A_LookEx(0,0,0,0,360)
		Loop
	Missile:
		FRD5 K 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD5 I 4 Bright A_CustomBulletAttack(32, 64, 2, 10, "RRPuff",0,CBAF_NORANDOM)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD5 J 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD5 K 4 A_FaceTarget
		FRD5 LM 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD5 N 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD5 O 4 Bright A_CustomBulletAttack(32, 64, 3, 10, "RRPuff",0,CBAF_NORANDOM)
		FRD5 P 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD5 Q 4 A_FaceTarget
		TNT1 A 0 A_Jump(30,"See")
		TNT1 A 0 A_MonsterRefire(30, "See")
		Loop
	Pain:
		FRD6 H 2 A_Pain
		FRD6 IH 2
		Goto See
	Pain.MightyBoot:
		TNT1 A 0 A_ChangeFlag("NOPAIN",1)
		TNT1 A 0 A_PlaySound("duke/kickhit",CHAN_BODY)
		FRD6 H 3 A_FaceTarget
		TNT1 A 0 A_Recoil(14)
		FRD6 I 16 A_Pain
		TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		Goto See
	Death:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		FRD5 R 4 A_Scream
		FRD5 STUVWX 4
		FRD5 Y 2 A_NoBlocking
		FRD5 Z 2
		FRD5 "[]" 2
		FRD6 ABCDEF 3
		TNT1 A 0 A_PlaySound("redneck/thud")
		TNT1 A -1 A_SpawnItemEx("BlackFrankDoyleCorpse_Normal", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
		Stop
	Death.Explosive:
	Death.DoomDamageTypeExplosive:
	XDeath:
	XDeath.Explosive:
	XDeath.DoomDamageTypeExplosive:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_ChangeFlag("SOLID",false)
		TNT1 A 0 A_PlaySound("Leonard/XDeath",CHAN_BODY)
		TNT1 A 0 A_JumpIfHealthLower(-60,"XDeath2")
		TNT1 A 0 A_GiveInventory("RREnemy_Gibbed", 1)
		FRD6 R 4 A_Scream
		FRD6 STU 4
		TNT1 A 0 A_CustomMissile("MiscGib1_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib2_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib3_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib4_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib5_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		FRD6 W 4 A_CustomMissile("MiscGib6_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		FRD6 XYZ 4
		FRD6 "[" 4 A_NoBlocking
		FRD6 "]" 4
		FRD7 ABCDE 4
		TNT1 A -1 A_SpawnItemEx("BlackFrankDoyleCorpse_Gibbed", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
		Stop
	Pain.ShrinkerDMG:
		FRD6 H 0
		"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
		"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
		"####" "#" 0 A_ChangeFlag("NOPAIN", 1)
		"####" "#" 0 A_ChangeFlag("NODAMAGE", 1)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_PlaySound("duke/shrink")
		"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlackFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlackFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlackFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlackFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlackFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlackFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlackFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
		"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BlackFrankDoyle_Shrink", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
		TNT1 A 2
		TNT1 A 0 Thing_Remove(0)
		Stop
	}
}

Actor BlackFrankDoyleCorpse_Normal : BlueFrankDoyleCorpse_Normal
{
	States
	{
		Spawn:
			FRD6 G 4
			Loop
	}
}

Actor BlackFrankDoyleCorpse_Gibbed : BlackFrankDoyleCorpse_Normal
{
	States
	{
		Spawn:
			FRD7 F 4
			Loop
	}
}

actor BlackFrankDoyle_Shrink : BlackFrankDoyle
{
	+FRIGHTENED
	+NOTRIGGER
	-SHOOTABLE
	+THRUACTORS
	+NORADIUSDMG
	+VULNERABLE
	+QUICKTORETALIATE
	+COUNTKILL
	-NOGRAVITY
	+NODAMAGE
	+NOPAIN
	MaxStepHeight 0
	MaxDropOffHeight 0
	MeleeRange 16
	Height 16
	Health 1
	Speed 1
	PainChance "ShrinkDMG", 0
	DamageFactor "ShrinkDMG", 0.0
	PainChance "ExpanderDMG", 0
	DamageFactor "ExpanderDMG", 0.0
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIfInventory("ShrunkToken",1,"SpawnLoop")
			TNT1 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			TNT1 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			TNT1 A 0 A_SetScale(scalex*0.2,scaley*0.2) // setting the scale in ACS does work, but the actor shows up at normal size for a split second
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_Shrinker", 0, 1)
			FRD6 H 10
			Goto See
		SpawnLoop:
			FRD6 LMNOPQ 6 A_Look
			TNT1 A 0 A_Jump(128,1)
			TNT1 A 0 A_PlaySound("Doyle/Snort",3)
			FRD6 LMNOPQ 6 A_Look
			FRD6 LMNOPQ 6 A_Look
			FRD6 LMNOPQ 6 A_Look
			FRD6 LMNOPQ 6 A_Look
			FRD6 LMNOPQ 6 A_Look
			FRD6 LMNOPQ 6 A_Look
			FRD6 LMNOPQ 6 A_Look
			Loop
		See:
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD5 A 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD5 B 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD5 C 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD5 D 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD5 E 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD5 F 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD5 G 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD5 H 4 A_Chase("","")
			"####" "#" 0 A_JumpIf(CallACS("Samsara_Shrinker", 3) == 0, "Forget")
			Loop
		Forget:
			"####" "#" 0 A_ClearTarget
			Goto See
		Grow:
			"####" "#" 4 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(1.0*(user_scalex/65536.0),1.0*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BlackFrankDoyle", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 2 Thing_Remove(0)
			Stop
		Squish:
			"####" "#" 0 A_GiveInventory("SquishToken", 1)
			"####" "#" 0 A_JumpIfInTargetInventory("DukeStomp", 1, 2)
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 2
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 0
			"####" "#" 2 A_Die("Squish")
			"####" "#" 0
			Loop
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			Stop
		DukeStomp:
			"####" "#" 0 A_GiveToTarget("DukeStomp", 1)
			Goto Squish
	}
}

actor BlackFrankDoyle_ShrinkEffect : BlackFrankDoyle
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			FRD6 H 0
			FRD6 H 0 A_SetUserVar("user_scalex", scalex*65536.0)
			FRD6 H 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

Actor BlackFrankDoyle_Type2 : BlackFrankDoyle
{
	+NOPAIN
	States
	{
		Spawn:
			FRD7 M 0
			FRD7 M 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
			FRD7 M 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
			FRD7 M 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
			FRD7 M 0 A_GiveInventory("AlreadySpawned",1)
		Spawn2:
			FRD7 M 5 A_Look
			Loop
		Idle:
			FRD5 A 4 A_Look
			Loop
		See:
			TNT1 A 0 A_JumpIfInventory("SawPlayer",1,"SeeLoop")
			TNT1 A 0 A_GiveInventory("SawPlayer", 1)
			TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
			TNT1 A 0 A_StopSound(CHAN_BODY)
			FRD7 N 4 A_FaceTarget
			FRD7 OPQR 4
		SeeLoop:
			FRD5 ABCDEFGH 4 A_Chase
			Loop
		}
}

Actor GreenFrankDoyle : BlueFrankDoyle
{
	Health 150
	States
	{
	Spawn:
		FRD3 L 0
		FRD3 L 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
		FRD3 L 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
		FRD3 L 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
		FRD3 L 0 A_GiveInventory("AlreadySpawned",1)
	Spawn2:
		FRD3 LMNOPQ 6 A_Look
		TNT1 A 0 A_PlaySound("Doyle/Snort",CHAN_ITEM)
		FRD3 LMNOPQ 6 A_Look
		FRD3 LMNOPQ 6 A_Look
		FRD3 LMNOPQ 6 A_Look
		FRD3 LMNOPQ 6 A_Look
		FRD3 LMNOPQ 6 A_Look
		FRD3 LMNOPQ 6 A_Look
		FRD3 LMNOPQ 6 A_Look
		Loop
	See:
		TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
		TNT1 A 0 A_StopSound(CHAN_ITEM)
		TNT1 A 0 A_StopSound(CHAN_BODY)
		FRD2 ABCDEFGH 4 A_Chase
		Goto See+1
	Pee:
		TNT1 A 0 A_PlaySound("Leonard/Pee",CHAN_BODY,1.0,1)
	PeeLoop:
		FRD1 YZ 6 A_LookEx(0,0,0,0,360)
		Loop
	Missile:
		FRD2 K 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD2 I 4 Bright A_CustomBulletAttack(32, 64, 2, 10, "RRPuff",0,CBAF_NORANDOM)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD2 J 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD2 K 4 A_FaceTarget
		FRD2 LM 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD2 N 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD2 O 4 Bright A_CustomBulletAttack(32, 64, 3, 10, "RRPuff",0,CBAF_NORANDOM)
		FRD2 P 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD2 Q 4 A_FaceTarget
		TNT1 A 0 A_Jump(30,"See")
		TNT1 A 0 A_MonsterRefire(30, "See")
		Loop
	Pain:
		FRD3 H 2 A_Pain
		FRD3 IH 2
		Goto See
	Pain.MightyBoot:
		TNT1 A 0 A_ChangeFlag("NOPAIN",1)
		TNT1 A 0 A_PlaySound("duke/kickhit",CHAN_BODY)
		FRD3 H 3 A_FaceTarget
		TNT1 A 0 A_Recoil(14)
		FRD3 I 16 A_Pain
		TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		Goto See
	Death:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		FRD2 R 4 A_Scream
		FRD2 STUVWX 4
		FRD2 Y 2 A_NoBlocking
		FRD2 Z 2
		FRD2 "[]" 2
		FRD3 ABCDEF 3
		TNT1 A 0 A_PlaySound("redneck/thud")
		TNT1 A -1 A_SpawnItemEx("GreenFrankDoyleCorpse_Normal", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
		Stop
	Death.Explosive:
	Death.DoomDamageTypeExplosive:
	XDeath:
	XDeath.Explosive:
	XDeath.DoomDamageTypeExplosive:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_ChangeFlag("SOLID",false)
		TNT1 A 0 A_PlaySound("Leonard/XDeath",CHAN_BODY)
		TNT1 A 0 A_JumpIfHealthLower(-60,"XDeath2")
		TNT1 A 0 A_GiveInventory("RREnemy_Gibbed", 1)
		FRD3 R 4 A_Scream
		FRD3 STU 4
		TNT1 A 0 A_CustomMissile("MiscGib1_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib2_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib3_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib4_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib5_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		FRD3 W 4 A_CustomMissile("MiscGib6_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		FRD3 XYZ 4
		FRD3 "[" 4 A_NoBlocking
		FRD3 "]" 4
		FRD4 ABCDE 4
		TNT1 A -1 A_SpawnItemEx("GreenFrankDoyleCorpse_Gibbed", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
		Stop
	Pain.ShrinkerDMG:
		FRD3 H 0
		"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
		"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
		"####" "#" 0 A_ChangeFlag("NOPAIN", 1)
		"####" "#" 0 A_ChangeFlag("NODAMAGE", 1)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_PlaySound("duke/shrink")
		"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("GreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("GreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("GreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("GreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("GreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("GreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("GreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
		"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("GreenFrankDoyle_Shrink", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
		TNT1 A 2
		TNT1 A 0 Thing_Remove(0)
		Stop
	}
}

Actor GreenFrankDoyleCorpse_Normal : BlueFrankDoyleCorpse_Normal
{
	States
	{
		Spawn:
			FRD3 G 4
			Loop
	}
}

Actor GreenFrankDoyleCorpse_Gibbed : BlueFrankDoyleCorpse_Normal
{
	States
	{
		Spawn:
			FRD4 F 4
			Loop
	}
}

actor GreenFrankDoyle_Shrink : GreenFrankDoyle
{
	+FRIGHTENED
	+NOTRIGGER
	-SHOOTABLE
	+THRUACTORS
	+NORADIUSDMG
	+VULNERABLE
	+QUICKTORETALIATE
	+COUNTKILL
	-NOGRAVITY
	+NODAMAGE
	+NOPAIN
	MaxStepHeight 0
	MaxDropOffHeight 0
	MeleeRange 16
	Height 16
	Health 1
	Speed 1
	PainChance "ShrinkDMG", 0
	DamageFactor "ShrinkDMG", 0.0
	PainChance "ExpanderDMG", 0
	DamageFactor "ExpanderDMG", 0.0
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIfInventory("ShrunkToken",1,"SpawnLoop")
			TNT1 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			TNT1 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			TNT1 A 0 A_SetScale(scalex*0.2,scaley*0.2) // setting the scale in ACS does work, but the actor shows up at normal size for a split second
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_Shrinker", 0, 1)
			FRD3 H 10
			Goto See
		SpawnLoop:
			FRD3 LMNOPQ 6 A_Look
			TNT1 A 0 A_Jump(128,1)
			TNT1 A 0 A_PlaySound("Doyle/Snort",3)
			FRD3 LMNOPQ 6 A_Look
			FRD3 LMNOPQ 6 A_Look
			FRD3 LMNOPQ 6 A_Look
			FRD3 LMNOPQ 6 A_Look
			FRD3 LMNOPQ 6 A_Look
			FRD3 LMNOPQ 6 A_Look
			FRD3 LMNOPQ 6 A_Look
			Loop
		See:
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD2 A 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD2 B 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD2 C 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD2 D 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD2 E 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD2 F 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD2 G 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD2 H 4 A_Chase("","")
			"####" "#" 0 A_JumpIf(CallACS("Samsara_Shrinker", 3) == 0, "Forget")
			Loop
		Forget:
			"####" "#" 0 A_ClearTarget
			Goto See
		Grow:
			"####" "#" 4 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(1.0*(user_scalex/65536.0),1.0*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("GreenFrankDoyle", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 2 Thing_Remove(0)
			Stop
		Squish:
			"####" "#" 0 A_GiveInventory("SquishToken", 1)
			"####" "#" 0 A_JumpIfInTargetInventory("DukeStomp", 1, 2)
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 2
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 0
			"####" "#" 2 A_Die("Squish")
			"####" "#" 0
			Loop
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			Stop
		DukeStomp:
			"####" "#" 0 A_GiveToTarget("DukeStomp", 1)
			Goto Squish
	}
}

actor GreenFrankDoyle_ShrinkEffect : GreenFrankDoyle
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			FRD3 H 0
			FRD3 H 0 A_SetUserVar("user_scalex", scalex*65536.0)
			FRD3 H 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

Actor GreenFrankDoyle_Type2 : GreenFrankDoyle
{
	+NOPAIN
	States
	{
		Spawn:
			FRD4 G 0
			FRD4 G 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
			FRD4 G 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
			FRD4 G 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
			FRD4 G 0 A_GiveInventory("AlreadySpawned",1)
		Spawn2:
			FRD4 G 5 A_Look
			Loop
		Idle:
			FRD2 A 4 A_Look
			Loop
		See:
			TNT1 A 0 A_JumpIfInventory("SawPlayer",1,"SeeLoop")
			TNT1 A 0 A_GiveInventory("SawPlayer", 1)
			TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
			TNT1 A 0 A_StopSound(CHAN_BODY)
			FRD4 H 4 A_FaceTarget
			FRD4 IJKL 4
			TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		SeeLoop:
			FRD2 ABCDEFGH 4 A_Chase
			Loop
		}
}

Actor RedFrankDoyle : BlueFrankDoyle
{
	Health 150
	States
	{
	Spawn:
		_FRD L 0
		_FRD L 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
		_FRD L 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
		_FRD L 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
		_FRD L 0 A_GiveInventory("AlreadySpawned",1)
	Spawn2:
		_FRD LMNOPQ 6 A_Look
		TNT1 A 0 A_PlaySound("Doyle/Snort",CHAN_ITEM)
		_FRD LMNOPQ 6 A_Look
		_FRD LMNOPQ 6 A_Look
		_FRD LMNOPQ 6 A_Look
		_FRD LMNOPQ 6 A_Look
		_FRD LMNOPQ 6 A_Look
		_FRD LMNOPQ 6 A_Look
		_FRD LMNOPQ 6 A_Look
		Loop
	See:
		TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
		TNT1 A 0 A_StopSound(CHAN_ITEM)
		TNT1 A 0 A_StopSound(CHAN_BODY)
		FRD_ ABCDEFGH 4 A_Chase
		Goto See+1
	Pee:
		TNT1 A 0 A_PlaySound("Leonard/Pee",CHAN_BODY,1.0,1)
	PeeLoop:
		FRD1 "[]" 6 A_LookEx(0,0,0,0,360)
		Loop

	Missile:
		FRD_ K 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD_ I 4 Bright A_CustomBulletAttack(32, 64, 2, 10, "RRPuff",0,CBAF_NORANDOM)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD_ J 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD_ K 4 A_FaceTarget
		FRD_ LM 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD_ N 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD_ O 4 Bright A_CustomBulletAttack(32, 64, 3, 10, "RRPuff",0,CBAF_NORANDOM)
		FRD_ P 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		FRD_ Q 4 A_FaceTarget
		TNT1 A 0 A_Jump(30,"See")
		TNT1 A 0 A_MonsterRefire(30, "See")
		Loop
	Pain:
		_FRD H 2 A_Pain
		_FRD IH 2
		Goto See
	Pain.MightyBoot:
		TNT1 A 0 A_ChangeFlag("NOPAIN",1)
		TNT1 A 0 A_PlaySound("duke/kickhit",CHAN_BODY)
		_FRD H 3 A_FaceTarget
		TNT1 A 0 A_Recoil(14)
		_FRD I 16 A_Pain
		TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		Goto See
	Death:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		FRD_ R 4 A_Scream
		FRD_ STUVWX 4
		FRD_ Y 2 A_NoBlocking
		FRD_ Z 2
		FRD_ "[]" 2
		_FRD ABCDEF 3
		TNT1 A 0 A_PlaySound("redneck/thud")
		TNT1 A -1 A_SpawnItemEx("RedFrankDoyleCorpse_Normal", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
		Stop
	Death.Explosive:
	Death.DoomDamageTypeExplosive:
	XDeath:
	XDeath.Explosive:
	XDeath.DoomDamageTypeExplosive:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_ChangeFlag("SOLID",false)
		TNT1 A 0 A_PlaySound("Leonard/XDeath",CHAN_BODY)
		TNT1 A 0 A_JumpIfHealthLower(-60,"XDeath2")
		TNT1 A 0 A_GiveInventory("RREnemy_Gibbed", 1)
		_FRD R 4 A_Scream
		_FRD STU 4
		TNT1 A 0 A_CustomMissile("MiscGib1_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib2_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib3_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib4_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib5_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		_FRD W 4 A_CustomMissile("MiscGib6_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		_FRD XYZ 4
		_FRD "[" 4 A_NoBlocking
		_FRD "]" 4
		F_RD ABCDE 4
		TNT1 A -1 A_SpawnItemEx("RedFrankDoyleCorpse_Gibbed", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
		Stop
	Pain.ShrinkerDMG:
		_FRD H 0
		"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
		"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
		"####" "#" 0 A_ChangeFlag("NOPAIN", 1)
		"####" "#" 0 A_ChangeFlag("NODAMAGE", 1)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_PlaySound("duke/shrink")
		"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("RedFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("RedFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("RedFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("RedFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("RedFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("RedFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("RedFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
		"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("RedFrankDoyle_Shrink", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
		TNT1 A 2
		TNT1 A 0 Thing_Remove(0)
		Stop
	}
}

Actor RedFrankDoyleCorpse_Normal : BlueFrankDoyleCorpse_Normal
{
	States
	{
		Spawn:
			_FRD G 4
			Loop
	}
}

Actor RedFrankDoyleCorpse_Gibbed : BlueFrankDoyleCorpse_Normal
{
	States
	{
		Spawn:
			F_RD F 4
			Loop
	}
}

actor RedFrankDoyle_Shrink : RedFrankDoyle
{
	+FRIGHTENED
	+NOTRIGGER
	-SHOOTABLE
	+THRUACTORS
	+NORADIUSDMG
	+VULNERABLE
	+QUICKTORETALIATE
	+COUNTKILL
	-NOGRAVITY
	+NODAMAGE
	+NOPAIN
	MaxStepHeight 0
	MaxDropOffHeight 0
	MeleeRange 16
	Height 16
	Health 1
	Speed 1
	PainChance "ShrinkDMG", 0
	DamageFactor "ShrinkDMG", 0.0
	PainChance "ExpanderDMG", 0
	DamageFactor "ExpanderDMG", 0.0
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIfInventory("ShrunkToken",1,"SpawnLoop")
			TNT1 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			TNT1 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			TNT1 A 0 A_SetScale(scalex*0.2,scaley*0.2) // setting the scale in ACS does work, but the actor shows up at normal size for a split second
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_Shrinker", 0, 1)
			_FRD H 10
			Goto See
		SpawnLoop:
			_FRD LMNOPQ 6 A_Look
			TNT1 A 0 A_Jump(128,1)
			TNT1 A 0 A_PlaySound("Doyle/Snort",3)
			_FRD LMNOPQ 6 A_Look
			_FRD LMNOPQ 6 A_Look
			_FRD LMNOPQ 6 A_Look
			_FRD LMNOPQ 6 A_Look
			_FRD LMNOPQ 6 A_Look
			_FRD LMNOPQ 6 A_Look
			_FRD LMNOPQ 6 A_Look
			Loop
		See:
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD_ A 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD_ B 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD_ C 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD_ D 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD_ E 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD_ F 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD_ G 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			FRD_ H 4 A_Chase("","")
			"####" "#" 0 A_JumpIf(CallACS("Samsara_Shrinker", 3) == 0, "Forget")
			Loop
		Forget:
			"####" "#" 0 A_ClearTarget
			Goto See
		Grow:
			"####" "#" 4 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(1.0*(user_scalex/65536.0),1.0*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("RedFrankDoyle", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 2 Thing_Remove(0)
			Stop
		Squish:
			"####" "#" 0 A_GiveInventory("SquishToken", 1)
			"####" "#" 0 A_JumpIfInTargetInventory("DukeStomp", 1, 2)
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 2
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 0
			"####" "#" 2 A_Die("Squish")
			"####" "#" 0
			Loop
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			Stop
		DukeStomp:
			"####" "#" 0 A_GiveToTarget("DukeStomp", 1)
			Goto Squish
	}
}

actor RedFrankDoyle_ShrinkEffect : RedFrankDoyle
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			_FRD H 0
			_FRD H 0 A_SetUserVar("user_scalex", scalex*65536.0)
			_FRD H 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

Actor RedFrankDoyle_Type2 : RedFrankDoyle
{
	+NOPAIN
	States
	{
		Spawn:
			FRD4 S 0
			FRD4 S 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
			FRD4 S 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
			FRD4 S 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
			FRD4 S 0 A_GiveInventory("AlreadySpawned",1)
		Spawn2:
			FRD4 S 5 A_Look
			Loop
		Idle:
			FRD_ A 4 A_Look
			Loop
		See:
			TNT1 A 0 A_JumpIfInventory("SawPlayer",1,"SeeLoop")
			TNT1 A 0 A_GiveInventory("SawPlayer", 1)
			TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
			TNT1 A 0 A_StopSound(CHAN_BODY)
			FRD4 T 4 A_FaceTarget
			FRD4 UVWX 4
			TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		SeeLoop:
			FRD_ ABCDEFGH 4 A_Chase
			Loop
		}
}

Actor BrownFrankDoyle : BlueFrankDoyle
{
	Health 150
	States
	{
	Spawn:
		0FRD L 0
		0FRD L 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
		0FRD L 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
		0FRD L 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
		0FRD L 0 A_GiveInventory("AlreadySpawned",1)
	Spawn2:
		0FRD LMNOPQ 6 A_Look
		TNT1 A 0 A_PlaySound("Doyle/Snort",CHAN_ITEM)
		0FRD LMNOPQ 6 A_Look
		0FRD LMNOPQ 6 A_Look
		0FRD LMNOPQ 6 A_Look
		0FRD LMNOPQ 6 A_Look
		0FRD LMNOPQ 6 A_Look
		0FRD LMNOPQ 6 A_Look
		0FRD LMNOPQ 6 A_Look
		Loop
	See:
		TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
		TNT1 A 0 A_StopSound(CHAN_ITEM)
		TNT1 A 0 A_StopSound(CHAN_BODY)
		8FRD ABCDEFGH 4 A_Chase
		Goto See+1
	Pee:
		TNT1 A 0 A_PlaySound("Leonard/Pee",CHAN_BODY,1.0,1)
	PeeLoop:
		FRD1 WX 6 A_LookEx(0,0,0,0,360)
		Loop
	Missile:
		8FRD K 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		8FRD I 4 Bright A_CustomBulletAttack(32, 64, 2, 10, "RRPuff",0,CBAF_NORANDOM)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		8FRD J 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		8FRD K 4 A_FaceTarget
		8FRD LM 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		8FRD N 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		8FRD O 4 Bright A_CustomBulletAttack(32, 64, 3, 10, "RRPuff",0,CBAF_NORANDOM)
		8FRD P 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		8FRD Q 4 A_FaceTarget
		TNT1 A 0 A_Jump(30,"See")
		TNT1 A 0 A_MonsterRefire(30, "See")
		Loop
	Pain:
		0FRD H 2 A_Pain
		0FRD IH 2
		Goto See
	Pain.MightyBoot:
		TNT1 A 0 A_ChangeFlag("NOPAIN",1)
		TNT1 A 0 A_PlaySound("duke/kickhit",CHAN_BODY)
		0FRD H 3 A_FaceTarget
		TNT1 A 0 A_Recoil(14)
		0FRD I 16 A_Pain
		TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		Goto See
	Death:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		8FRD R 4 A_Scream
		8FRD STUVWX 4
		8FRD Y 2 A_NoBlocking
		8FRD Z 2
		8FRD "[]" 2
		0FRD ABCDEF 3
		TNT1 A 0 A_PlaySound("redneck/thud")
		TNT1 A -1 A_SpawnItemEx("BrownFrankDoyleCorpse_Normal", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
		Stop
	Death.Explosive:
	Death.DoomDamageTypeExplosive:
	XDeath:
	XDeath.Explosive:
	XDeath.DoomDamageTypeExplosive:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_ChangeFlag("SOLID",false)
		TNT1 A 0 A_PlaySound("Leonard/XDeath",CHAN_BODY)
		TNT1 A 0 A_JumpIfHealthLower(-60,"XDeath2")
		TNT1 A 0 A_GiveInventory("RREnemy_Gibbed", 1)
		0FRD R 4 A_Scream
		0FRD STU 4
		TNT1 A 0 A_CustomMissile("MiscGib1_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib2_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib3_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib4_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib5_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		0FRD W 4 A_CustomMissile("MiscGib6_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		0FRD XYZ 4
		0FRD "[" 4 A_NoBlocking
		0FRD "]" 4
		3FRD ABCDE 4
		TNT1 A -1 A_SpawnItemEx("BrownFrankDoyleCorpse_Gibbed", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
		Stop
	Pain.ShrinkerDMG:
		0FRD H 0
		"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
		"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
		"####" "#" 0 A_ChangeFlag("NOPAIN", 1)
		"####" "#" 0 A_ChangeFlag("NODAMAGE", 1)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_PlaySound("duke/shrink")
		"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BrownFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BrownFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BrownFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BrownFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BrownFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BrownFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BrownFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
		"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("BrownFrankDoyle_Shrink", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
		TNT1 A 2
		TNT1 A 0 Thing_Remove(0)
		Stop
	}
}

Actor BrownFrankDoyleCorpse_Normal : BlueFrankDoyleCorpse_Normal
{
	States
	{
		Spawn:
			0FRD G 4
			Loop
	}
}

Actor BrownFrankDoyleCorpse_Gibbed : BlueFrankDoyleCorpse_Normal
{
	States
	{
		Spawn:
			3FRD F 4
			Loop
	}
}

actor BrownFrankDoyle_Shrink : BrownFrankDoyle
{
	+FRIGHTENED
	+NOTRIGGER
	-SHOOTABLE
	+THRUACTORS
	+NORADIUSDMG
	+VULNERABLE
	+QUICKTORETALIATE
	+COUNTKILL
	-NOGRAVITY
	+NODAMAGE
	+NOPAIN
	MaxStepHeight 0
	MaxDropOffHeight 0
	MeleeRange 16
	Height 16
	Health 1
	Speed 1
	PainChance "ShrinkDMG", 0
	DamageFactor "ShrinkDMG", 0.0
	PainChance "ExpanderDMG", 0
	DamageFactor "ExpanderDMG", 0.0
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIfInventory("ShrunkToken",1,"SpawnLoop")
			TNT1 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			TNT1 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			TNT1 A 0 A_SetScale(scalex*0.2,scaley*0.2) // setting the scale in ACS does work, but the actor shows up at normal size for a split second
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_Shrinker", 0, 1)
			0FRD H 10
			Goto See
		SpawnLoop:
			0FRD LMNOPQ 6 A_Look
			TNT1 A 0 A_Jump(128,1)
			TNT1 A 0 A_PlaySound("Doyle/Snort",3)
			0FRD LMNOPQ 6 A_Look
			0FRD LMNOPQ 6 A_Look
			0FRD LMNOPQ 6 A_Look
			0FRD LMNOPQ 6 A_Look
			0FRD LMNOPQ 6 A_Look
			0FRD LMNOPQ 6 A_Look
			0FRD LMNOPQ 6 A_Look
			Loop
		See:
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			8FRD A 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			8FRD B 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			8FRD C 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			8FRD D 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			8FRD E 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			8FRD F 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			8FRD G 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			8FRD H 4 A_Chase("","")
			"####" "#" 0 A_JumpIf(CallACS("Samsara_Shrinker", 3) == 0, "Forget")
			Loop
		Forget:
			"####" "#" 0 A_ClearTarget
			Goto See
		Grow:
			"####" "#" 4 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(1.0*(user_scalex/65536.0),1.0*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BrownFrankDoyle", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 2 Thing_Remove(0)
			Stop
		Squish:
			"####" "#" 0 A_GiveInventory("SquishToken", 1)
			"####" "#" 0 A_JumpIfInTargetInventory("DukeStomp", 1, 2)
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 2
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 0
			"####" "#" 2 A_Die("Squish")
			"####" "#" 0
			Loop
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			Stop
		DukeStomp:
			"####" "#" 0 A_GiveToTarget("DukeStomp", 1)
			Goto Squish
	}
}

actor BrownFrankDoyle_ShrinkEffect : BrownFrankDoyle
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			0FRD H 0
			0FRD H 0 A_SetUserVar("user_scalex", scalex*65536.0)
			0FRD H 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

Actor BrownFrankDoyle_Type2 : BrownFrankDoyle
{
	+NOPAIN
	States
	{
		Spawn:
			FRD7 S 0
			FRD7 S 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
			FRD7 S 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
			FRD7 S 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
			FRD7 S 0 A_GiveInventory("AlreadySpawned",1)
		Spawn2:
			FRD7 S 5 A_Look
			Loop
		Idle:
			8FRD A 4 A_Look
			Loop
		See:
			TNT1 A 0 A_JumpIfInventory("SawPlayer",1,"SeeLoop")
			TNT1 A 0 A_GiveInventory("SawPlayer", 1)
			TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
			TNT1 A 0 A_StopSound(CHAN_BODY)
			FRD7 T 4 A_FaceTarget
			FRD7 UVWX 4
			TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		SeeLoop:
			8FRD ABCDEFGH 4 A_Chase
			Loop
		}
}

Actor DarkGreenFrankDoyle : BlueFrankDoyle
{
	Health 150
	States
	{
	Spawn:
		RR42 L 0
		RR42 L 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
		RR42 L 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
		RR42 L 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
		RR42 L 0 A_GiveInventory("AlreadySpawned",1)
	Spawn2:
		RR42 LMNOPQ 6 A_Look
		TNT1 A 0 A_PlaySound("Doyle/Snort",CHAN_ITEM)
		RR42 LMNOPQ 6 A_Look
		RR42 LMNOPQ 6 A_Look
		RR42 LMNOPQ 6 A_Look
		RR42 LMNOPQ 6 A_Look
		RR42 LMNOPQ 6 A_Look
		RR42 LMNOPQ 6 A_Look
		RR42 LMNOPQ 6 A_Look
		Loop
	See:
		TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
		TNT1 A 0 A_StopSound(CHAN_ITEM)
		TNT1 A 0 A_StopSound(CHAN_BODY)
		RR41 ABCDEFGH 4 A_Chase
		Goto See+1
	Pee:
		TNT1 A 0 A_PlaySound("Leonard/Pee",CHAN_BODY,1.0,1)
	PeeLoop:
		RR43 MN 6 A_LookEx(0,0,0,0,360)
		Loop
	Missile:
		RR41 K 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		RR41 I 4 Bright A_CustomBulletAttack(32, 64, 2, 10, "RRPuff",0,CBAF_NORANDOM)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		RR41 J 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		RR41 K 4 A_FaceTarget
		RR41 LM 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		RR41 N 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		RR41 O 4 Bright A_CustomBulletAttack(32, 64, 3, 10, "RRPuff",0,CBAF_NORANDOM)
		RR41 P 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		RR41 Q 4 A_FaceTarget
		TNT1 A 0 A_Jump(30,"See")
		TNT1 A 0 A_MonsterRefire(30, "See")
		Loop
	Pain:
		RR42 H 2 A_Pain
		RR42 IH 2
		Goto See
	Pain.MightyBoot:
		TNT1 A 0 A_ChangeFlag("NOPAIN",1)
		TNT1 A 0 A_PlaySound("duke/kickhit",CHAN_BODY)
		RR42 H 3 A_FaceTarget
		TNT1 A 0 A_Recoil(14)
		RR42 I 16 A_Pain
		TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		Goto See
	Death:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		RR41 R 4 A_Scream
		RR41 STUVWX 4
		RR41 Y 2 A_NoBlocking
		RR41 Z 2
		RR41 "[]" 2
		RR42 ABCDEF 3
		TNT1 A 0 A_PlaySound("redneck/thud")
		TNT1 A -1 A_SpawnItemEx("DarkGreenFrankDoyleCorpse_Normal", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
		Stop
	Death.Explosive:
	Death.DoomDamageTypeExplosive:
	XDeath:
	XDeath.Explosive:
	XDeath.DoomDamageTypeExplosive:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_ChangeFlag("SOLID",false)
		TNT1 A 0 A_PlaySound("Leonard/XDeath",CHAN_BODY)
		TNT1 A 0 A_JumpIfHealthLower(-60,"XDeath2")
		TNT1 A 0 A_GiveInventory("RREnemy_Gibbed", 1)
		RR42 R 4 A_Scream
		RR42 STU 4
		TNT1 A 0 A_CustomMissile("MiscGib1_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib2_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib3_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib4_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		TNT1 A 0 A_CustomMissile("MiscGib5_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		RR42 W 4 A_CustomMissile("MiscGib6_RR",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
		RR42 XYZ 4
		RR42 "[" 4 A_NoBlocking
		RR42 "]" 4
		RR43 ABCDE 4
		TNT1 A -1 A_SpawnItemEx("DarkGreenFrankDoyleCorpse_Gibbed", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
		Stop
	Pain.ShrinkerDMG:
		RR42 H 0
		"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
		"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
		"####" "#" 0 A_ChangeFlag("NOPAIN", 1)
		"####" "#" 0 A_ChangeFlag("NODAMAGE", 1)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_PlaySound("duke/shrink")
		"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("DarkGreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("DarkGreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("DarkGreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("DarkGreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("DarkGreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("DarkGreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("DarkGreenFrankDoyle_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
		"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("DarkGreenFrankDoyle_Shrink", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
		TNT1 A 2
		TNT1 A 0 Thing_Remove(0)
		Stop
	}
}

Actor DarkGreenFrankDoyleCorpse_Normal : BlueFrankDoyleCorpse_Normal
{
	States
	{
		Spawn:
			RR42 G 4
			Loop
	}
}

Actor DarkGreenFrankDoyleCorpse_Gibbed : BlueFrankDoyleCorpse_Normal
{
	States
	{
		Spawn:
			RR43 F 4
			Loop
	}
}

actor DarkGreenFrankDoyle_Shrink : DarkGreenFrankDoyle
{
	+FRIGHTENED
	+NOTRIGGER
	-SHOOTABLE
	+THRUACTORS
	+NORADIUSDMG
	+VULNERABLE
	+QUICKTORETALIATE
	+COUNTKILL
	-NOGRAVITY
	+NODAMAGE
	+NOPAIN
	MaxStepHeight 0
	MaxDropOffHeight 0
	MeleeRange 16
	Height 16
	Health 1
	Speed 1
	PainChance "ShrinkDMG", 0
	DamageFactor "ShrinkDMG", 0.0
	PainChance "ExpanderDMG", 0
	DamageFactor "ExpanderDMG", 0.0
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIfInventory("ShrunkToken",1,"SpawnLoop")
			TNT1 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			TNT1 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			TNT1 A 0 A_SetScale(scalex*0.2,scaley*0.2) // setting the scale in ACS does work, but the actor shows up at normal size for a split second
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_Shrinker", 0, 1)
			RR42 H 10
			Goto See
		SpawnLoop:
			RR42 LMNOPQ 6 A_Look
			TNT1 A 0 A_Jump(128,1)
			TNT1 A 0 A_PlaySound("Doyle/Snort",3)
			RR42 LMNOPQ 6 A_Look
			RR42 LMNOPQ 6 A_Look
			RR42 LMNOPQ 6 A_Look
			RR42 LMNOPQ 6 A_Look
			RR42 LMNOPQ 6 A_Look
			RR42 LMNOPQ 6 A_Look
			RR42 LMNOPQ 6 A_Look
			Loop
		See:
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			RR41 A 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			RR41 B 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			RR41 C 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			RR41 D 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			RR41 E 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			RR41 F 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			RR41 G 4 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			RR41 H 4 A_Chase("","")
			"####" "#" 0 A_JumpIf(CallACS("Samsara_Shrinker", 3) == 0, "Forget")
			Loop
		Forget:
			"####" "#" 0 A_ClearTarget
			Goto See
		Grow:
			"####" "#" 4 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(1.0*(user_scalex/65536.0),1.0*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DarkGreenFrankDoyle", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 2 Thing_Remove(0)
			Stop
		Squish:
			"####" "#" 0 A_GiveInventory("SquishToken", 1)
			"####" "#" 0 A_JumpIfInTargetInventory("DukeStomp", 1, 2)
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 2
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 0
			"####" "#" 2 A_Die("Squish")
			"####" "#" 0
			Loop
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			Stop
		DukeStomp:
			"####" "#" 0 A_GiveToTarget("DukeStomp", 1)
			Goto Squish
	}
}

actor DarkGreenFrankDoyle_ShrinkEffect : DarkGreenFrankDoyle
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			RR42 H 0
			RR42 H 0 A_SetUserVar("user_scalex", scalex*65536.0)
			RR42 H 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

Actor DarkGreenFrankDoyle_Type2 : DarkGreenFrankDoyle
{
	+NOPAIN
	States
	{
		Spawn:
			RR43 M 0
			RR43 M 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
			RR43 M 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
			RR43 M 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
			RR43 M 0 A_GiveInventory("AlreadySpawned",1)
		Spawn2:
			RR43 M 5 A_Look
			Loop
		Idle:
			RR41 A 4 A_Look
			Loop
		See:
			TNT1 A 0 A_JumpIfInventory("SawPlayer",1,"SeeLoop")
			TNT1 A 0 A_GiveInventory("SawPlayer", 1)
			TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
			TNT1 A 0 A_StopSound(CHAN_BODY)
			RR43 N 4 A_FaceTarget
			RR43 OPQR 4
		SeeLoop:
			RR41 ABCDEFGH 4 A_Chase
			Loop
		}
}

Actor GhostFrankDoyle : SamsaraMonsterGhost
{
	Obituary "%o got %p ass shot up by Frank Doyle."
	Scale 0.375
	Radius 20
	Height 56
	Health 150
	Mass 240
	Species "RedneckEnemies"
	Speed 5
	+FLOORCLIP
	+MISSILEMORE
	+NOINFIGHTING
	+NOBLOODDECALS
	Monster
	SeeSound "doyle/see"
	PainSound "doyle/pain"
	DeathSound "doyle/pain"
	ActiveSound "doyle/talk"
	AttackSound "RR/SGFire"
	DropItem "FrankDoyleDrop"
	BloodType "LeonardBlood_RR"
	BloodColor "ba 2c 10"
	Tag "Frank Doyle"
	DamageFactor "Mace", 1.1
	DamageFactor "DragonClaw", 1.5
	PainChance "MightyBoot", 255
	PainChance "MarathonStun", 255
	PainChance 45
	PainChance "ShrinkerDMG", 0
	RenderStyle Translucent
	Alpha 0.5
	States
	{
	Spawn:
		RR45 L 0
		RR45 L 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
		RR45 L 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
		RR45 L 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
		RR45 L 0 A_GiveInventory("AlreadySpawned",1)
	Spawn2:
		RR45 LMNOPQ 6 A_Look
		TNT1 A 0 A_PlaySound("Doyle/Snort",CHAN_ITEM)
		RR45 LMNOPQ 6 A_Look
		RR45 LMNOPQ 6 A_Look
		RR45 LMNOPQ 6 A_Look
		RR45 LMNOPQ 6 A_Look
		RR45 LMNOPQ 6 A_Look
		RR45 LMNOPQ 6 A_Look
		RR45 LMNOPQ 6 A_Look
		Loop
	See:
		TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
		TNT1 A 0 A_StopSound(CHAN_ITEM)
		TNT1 A 0 A_StopSound(CHAN_BODY)
		RR44 ABCDEFGH 4 A_Chase
		Goto See+1
	Pee:
		TNT1 A 0 A_PlaySound("Leonard/Pee",CHAN_BODY,1.0,1)
	PeeLoop:
		RR46 MN 6 A_LookEx(0,0,0,0,360)
		Loop
	Missile:
		RR44 K 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		RR44 I 4 Bright A_CustomBulletAttack(32, 64, 2, 10, "RRPuff",0,CBAF_NORANDOM)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		RR44 J 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		RR44 K 4 A_FaceTarget
		RR44 LM 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		RR44 N 4 A_FaceTarget
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		RR44 O 4 Bright A_CustomBulletAttack(32, 64, 3, 10, "RRPuff",0,CBAF_NORANDOM)
		RR44 P 4 A_Warp(AAPTR_DEFAULT,4)
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,4)
		RR44 Q 4 A_FaceTarget
		TNT1 A 0 A_Jump(30,"See")
		TNT1 A 0 A_MonsterRefire(30, "See")
		Loop
	Pain:
		RR45 H 2 A_Pain
		RR45 IH 2
		Goto See
	Pain.MightyBoot:
		TNT1 A 0 A_ChangeFlag("NOPAIN",1)
		TNT1 A 0 A_PlaySound("duke/kickhit",CHAN_BODY)
		RR45 H 3 A_FaceTarget
		TNT1 A 0 A_Recoil(14)
		RR45 I 16 A_Pain
		TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		Goto See
	Death:
		TNT1 A 0 A_ChangeFlag("SOLID",false)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 7 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		Stop
	}
}

Actor GhostFrankDoyle_Type2 : GhostFrankDoyle
{
	+NOPAIN
	States
	{
		Spawn:
			RR46 M 0
			RR46 M 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
			RR46 M 0 A_GiveInventory("SamsaraMixerMonsterDeathScriptToken",1)
			RR46 M 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
			RR46 M 0 A_GiveInventory("AlreadySpawned",1)
		Spawn2:
			RR46 M 5 A_Look
			Loop
		Idle:
			RR44 A 4 A_Look
			Loop
		See:
			TNT1 A 0 A_JumpIfInventory("SawPlayer",1,"SeeLoop")
			TNT1 A 0 A_GiveInventory("SawPlayer", 1)
			TNT1 A 0 A_GiveInventory("RRDoylePissOff",1)
			TNT1 A 0 A_StopSound(CHAN_BODY)
			RR46 N 4 A_FaceTarget
			RR46 OPQR 4
		SeeLoop:
			RR44 ABCDEFGH 4 A_Chase
			Loop
		}
}

ACTOR DoyleHead_RR
{
	Scale 0.19
	Radius 6
	Height 5
	Speed 10
	+MISSILE
	+CLIENTSIDEONLY
	-NOGRAVITY
	-NOBLOCKMAP
	-SOLID
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 ThrustThingZ(0,random(10,40),0,1)
	SpawnLoop:
		FRDX LMNOP 4
		Loop
	Death:
		TNT1 A 5
		Stop
	}
}

ACTOR DoyleLeg_RR : DoyleHead_RR
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 ThrustThingZ(0,random(10,40),0,1)
	SpawnLoop:
		FRDX QRSTU 4
		Loop
	}
}

ACTOR DoyleChest_RR : DoyleHead_RR
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 ThrustThingZ(0,random(10,40),0,1)
	SpawnLoop:
		FRDX GHIJK 4
		Loop
	}
}

ACTOR DoyleArm_RR : DoyleHead_RR
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 ThrustThingZ(0,random(10,40),0,1)
	SpawnLoop:
		FRDX VWXYZ 4
		Loop
	}
}

Actor RRDoylePissOff : Boolean { }
//===========================================
//@author:	Ryan Cordell
//@desc:	Shared enemy info
//===========================================

ACTOR enemy_base
{
	Speed				8
	Scale				0.8
	MinMissileChance	85
	MONSTER
	Species 			"Enemies"
	+FLOORCLIP
	+NOINFIGHTING
    DamageFactor 		"Mace", 1.1
    DamageFactor 		"DragonClaw", 1.5
    PainChance 			"MightyBoot", 255
	PainChance 			"MarathonStun", 255
}

ACTOR concussion_projectile2_DFB : concussion_projectile
{
	damage (random(5,25))
	states
	{
		Death:
			TNT1 A 0 A_PlaySound("katarn/exmiss",CHAN_VOICE)
			TNT1 A 0 A_Explode(5,80,0)
			goto DeathFinish
	}
}

ACTOR bryar_laser2_DFB
{
	Radius		8
	Height		8
	Speed		35
	damage (2*random(2,random(1,3)))
	Damagetype	"Pistol"
	Scale		0.5
	PROJECTILE
    +FORCEXYBILLBOARD	
	-NOINTERACTION
	States
	{
	  Spawn:
	  LASR A -1 BRIGHT
	  stop
			
	  Death:
      TNT1 A 0 A_PlaySound("katarn/extiny",CHAN_VOICE)
      TNT1 A 1 A_SpawnItemEx("spark_puff")
      Stop
	}
}

ACTOR blaster_laser2_DFB
{
  Radius  3
  Height  3
  Speed		35
  damage (3*random(2,random(1,3)))
  Scale   0.5
  PROJECTILE
  +FORCEXYBILLBOARD  
  +NOEXTREMEDEATH
  -NOINTERACTION
  States
  {
    Spawn:
	  LASR A -1 BRIGHT
	  stop
    Death:
	Crash:
      TNT1 A 0 A_PlaySound("katarn/extiny",CHAN_VOICE)
	  TNT1 A 0 A_PlaySound("storm/laser/miss")
      TNT1 A 1 A_SpawnItem("spark_puff")
      Stop
	XDeath:  
      TNT1 A 0 A_PlaySound("katarn/extiny",CHAN_VOICE)
      TNT1 A 1 A_SpawnItem("spark_puff")
      Stop	
  }
}

actor enemyblaster_trail
{
  Scale 0.35
  +FORCEXYBILLBOARD  
  +NOINTERACTION
  +CLIENTSIDEONLY
  States
  {
	Spawn:
	  LASR A 2 BRIGHT
	  Stop
  }
}

actor enemyblaster_trail_A1 : enemyblaster_trail {}

actor remoteblaster_trail
{
  Scale 0.20
  +FORCEXYBILLBOARD  
  +NOINTERACTION
  +CLIENTSIDEONLY
  States
  {
	Spawn:
	  LASR B 2 BRIGHT
	  Stop
  }
}

actor remoteblaster_trail_A1 : remoteblaster_trail {}

ACTOR blaster_laser2_REM
{
  Radius  3
  Height  3
  Speed		35
  damage (2)
  Scale   0.5
  PROJECTILE
  +NOEXTREMEDEATH
  +FORCEXYBILLBOARD
  -NOINTERACTION
  obituary "%o was killed by a small remote. Drats!"  
  States
  {
    Spawn:
	  LASR A -1 BRIGHT
	  stop
    Death:
	Crash:
      TNT1 A 0 A_PlaySound("katarn/extiny",CHAN_VOICE)
	  TNT1 A 0 A_PlaySound("storm/laser/miss")
      TNT1 A 1 A_SpawnItem("spark_puff")
      Stop
	XDeath:  
      TNT1 A 0 A_PlaySound("katarn/extiny",CHAN_VOICE)
      TNT1 A 1 A_SpawnItem("spark_puff")
      Stop	  
  }
}


actor StormTrooper_MonsterDrop : SamsaraSlotTwoDrop
{
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        IRIF A 0 NoDelay ACS_NamedExecuteWithResult("Samsara_SwitchableObject", 35)
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        IRIF A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

actor HothTrooper_MonsterDrop : SamsaraSlotFourDrop
{
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        IREP A 0 NoDelay ACS_NamedExecuteWithResult("Samsara_SwitchableObject", 37)
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        IREP A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

actor DarkForces_GranDrop : SamsaraSlotOneDrop
{
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        IDET A 0 NoDelay ACS_NamedExecuteWithResult("Samsara_SwitchableObject", 34)
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        IDET A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

actor Trandoshan_ConcussionDrop : SamsaraSlotSixDrop
{
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        ICON A 0 NoDelay ACS_NamedExecuteWithResult("Samsara_SwitchableObject", 41)
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        ICON A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

actor SandTrooper_MonsterDrop : SamsaraSlotFourSkulltagDrop
{
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        KD19 Z 0 NoDelay ACS_NamedExecuteWithResult("Samsara_SwitchableObject", 38)
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        KD19 Z -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

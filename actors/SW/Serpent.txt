Actor SerpentGodBig : SamsaraMonsterBeastBoss
{
  Health 3800
  Radius 48
  Height 100
  Speed 8
  PainChance 48
  Mass 1024
  Monster
  +NOINFIGHTING
  +BOSS
  +BOSSDEATH
  +DONTRIP
  +NOINFIGHTING
  +NOBLOODDECALS
  SeeSound "Serpent/See"
  PainSound "Serpent/pain"
  DeathSound "Serpent/die"
  ActiveSound "Serpent/Act"
  Obituary "%o was no match for an incarnation of the Serpent God."
  RadiusDamageFactor 0.75
  Species "SWEnemies"
  MeleeRange 78
  Tag "Serpent God"  
  XScale 1.3
  Yscale 1.18
  DamageFactor "Mace", 1.2
  DamageFactor "CorvusHellstaffTomed", 0.2	
  DamageFactor "CorvusCrossbow", 1.2	
  DamageFactor "DragonClaw", 1.6
  DamageFactor "MarathonShotgun", 1.4
  DamageFactor "MarathonPlasmaFire", 0.82
  DamageFactor "MarathonFusion", 0.8	
  DamageFactor "WMCNade", 0.8
  DamageFactor "BJSpear", 0.2
  DamageFactor "DCannonProj", 0.8	
  DamageFactor "Tesla", 0.6
  DamageFactor "Shock", 0.3
  DamageFactor "LifeLeech", 0.7		
  DamageFactor "CalebFire", 0.6	
  DamageFactor "Vodoo", 0.85	
  DamageFactor "DisruptorWall", 0.5
  DamageFactor "EradNova", 0.4
  DamageFactor "EradGreenFire", 0.2
  DamageFactor "EradCoopGreenFire", 0.2
  DamageFactor "RottFire", 0.7	
  DamageFactor "HLLaser", 0.6
  DamageFactor "WTRangedFire", 0.5	
  DamageFactor "Nuke", 0.4
  DamageFactor "SWNuke", 0.4
  DamageFactor "SWNukeCoop", 0.4	
  DamageFactor "SWFlame", 0.1
  DamageFactor "SWFlameCoop", 0.1
  DamageFactor "SWFlame2", 0.2	
  DamageFactor "SWFlame2Coop", 0.2
  DamageFactor "SWFlame3", 0.7
  DamageFactor "RMR-BigPlasma", 0.3
  DamageFactor "CMDMGSHIT", 0.6	
  DamageFactor "Disintegrate", 0.6	  
  DamageFactor "C7Disintegrate", 0.5
  PainChance "ShrinkerDMG", 0
  BloodType "SWDefaultBloodSpawner"  
  States
  {
  Spawn:
    TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("Ring18", 1, "SpawnLoop")
	TNT1 A 0 A_GiveInventory("Ring18", 18)
  SpawnLoop:
    SERP A 5 A_Look
    Loop
  See:
    TNT1 A 0 A_GiveInventory("SamsaraBossSightTaunt")
  See2:
    SERP AA 2 A_Chase
	SERP A 2 A_Chase("Melee","")
	SERP BBB 2 A_Chase
	SERP CC 2 A_Chase
	SERP C 2 A_Chase("Melee","")
    Loop
  Melee:
	SERP DEF 3 A_FaceTarget
	TNT1 A 0 A_PlaySound("Serpent/Melee")
	SERP G 4 A_CustomMeleeAttack(75)
	SERP H 4
	SERP G 3
    Goto See
  Missile:
	TNT1 A 0 A_JumpIfInventory("Ring18", 18, "Ring")
	TNT1 A 0 A_Jump(128, "Green")
	SERP A 1 A_FaceTarget
	SERP A 1 A_CustomMissile("SnakeMagicSkull", 30, 0, 0, 2, 30)
	TNT1 A 0 A_GiveInventory("Ring18", 1)
	Goto See
  Ring:
	SERP K 10 A_FaceTarget
	SERP J 6 A_FaceTarget
	SERP I 10 A_FaceTarget
	TNT1 A 0 A_PlaySound("Serpent/Ring",CHAN_WEAPON)
	TNT1 A 0 A_CustomMissile("OrbitSkull_1",32,0,0,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_2",32,0,20,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_3",32,0,40,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_4",32,0,60,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_5",32,0,80,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_6",32,0,100,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_7",32,0,120,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_8",32,0,140,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_9",32,0,160,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_10",32,0,180,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_11",32,0,200,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_12",32,0,220,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_13",32,0,240,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_14",32,0,260,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_15",32,0,280,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_16",32,0,300,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_17",32,0,320,2)
	TNT1 A 0 A_CustomMissile("OrbitSkull_18",32,0,340,2)
	SERP I 0 A_TakeInventory("Ring18", 18)
	SERP I 5 A_FaceTarget
	SERP J 6 A_FaceTarget
	Goto See
  Green:
 	TNT1 A 0 A_Jump(128,"BigShot")   
	SERP LK 4 A_FaceTarget
	SERP J 4 A_FaceTarget
	TNT1 A 0 A_PlaySound("Serpent/Magic")
	TNT1 A 0 A_CustomMissile("SerpentProj2", 48, -24)
	SERP I 6 A_CustomMissile("SerpentProj2", 48, 24)
	Goto See
  BigShot:
 	SERP IJ 4 A_FaceTarget
	SERP K 4 A_FaceTarget
	TNT1 A 0 A_PlaySound("Serpent/Magic") 
	SERP L 6 A_CustomMissile("SerpentMissile2", 36)
	Goto See	
  Pain:
    SERP A 2
    SERP A 2 A_Pain
    Goto See	
  Death:  
	TNT1 A 0 A_GiveInventory("SnakeDie", 1)
	TNT1 A 0 A_GiveToTarget("KillCount",1)    
	TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")
	SERP M 6 A_Scream
	SERP NOPQRSTUW 6
	TNT1 A 0 A_NoBlocking
	SERP X 6
	SERP Y -1 A_KillMaster
    Stop
  }
}

Actor Ring18 : inventory { Inventory.MaxAmount 18}
Actor SnakeDie : inventory { Inventory.MaxAmount 1 }

Actor SerpentProj
{
	PROJECTILE
	Obituary "%o was no match for the apprentice of the Serpent God."
	Speed 32
	Damage (Random(5,15))
	Radius 8
	Height 10
	Scale 0.65	
	States
	{
		Spawn:
			DS95 STUV 3 Bright
			Loop
		Death:
			TNT1 A 0 A_PlaySound("Weapons/MissileHitX")
			DS95 WXYZI 1 Bright
			Stop
	}
}

Actor SerpentProj2 : SerpentProj { Obituary "%o was no match for an incarnation of the Serpent God." }

Actor OrbitSkull_1
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 0)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 1, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 1, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 1, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 1, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}

Actor OrbitSkull_2
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 20)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 2, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 2, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 2, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 2, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}
Actor OrbitSkull_3
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 40)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 3, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 3, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 3, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 3, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}
Actor OrbitSkull_4
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 60)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 4, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 4, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 4, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 4, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}
Actor OrbitSkull_5
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 80)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 5, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 5, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 5, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 5, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}
Actor OrbitSkull_6
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 100)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 6, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 6, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 6, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 6, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}
Actor OrbitSkull_7
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 120)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 7, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 7, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 7, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 7, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}
Actor OrbitSkull_8
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 140)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 8, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 8, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 8, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 8, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}
Actor OrbitSkull_9
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 160)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 9, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 9, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 9, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 9, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}
Actor OrbitSkull_10
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 180)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 10, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 10, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 10, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 10, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}
Actor OrbitSkull_11
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 200)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 11, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 11, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 11, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 11, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}

Actor OrbitSkull_12
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 220)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 12, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 12, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 12, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 12, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}

Actor OrbitSkull_13
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 240)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 13, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 13, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 13, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 13, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}

Actor OrbitSkull_14
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 260)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 14, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 14, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 14, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 14, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}

Actor OrbitSkull_15
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 280)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 15, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 15, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 15, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 15, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}

Actor OrbitSkull_16
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 300)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 16, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 16, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 16, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 16, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}

Actor OrbitSkull_17
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 320)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 17, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 17, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 17, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 17, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}

Actor OrbitSkull_18
{
  Speed 5
  Projectile
  +NOINTERACTION
  var int user_angle;
  scale 0.7
  States
  {
	Spawn:
		RSKP AAAA 4
		TNT1 A 0 A_SetUserVar("user_angle", 340)
		Goto Angeled
	Angeled:
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 18, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 18, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 18, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		RSKP A 1 Bright A_Warp(AAPTR_TARGET, 128, 0, 32, user_angle, WARPF_ABSOLUTEANGLE|WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_SetUserVar("user_angle", user_angle + 2)
		TNT1 A 0 A_JumpIfInTargetInventory("Ring18", 18, "LowDeath")
		TNT1 A 0 A_JumpIfInTargetInventory("SnakeDie", 1, "Death")
		TNT1 A 0 A_SetAngle(angle-60)
		Loop
	LowDeath:
		TNT1 A 1
		Stop
	Death:
	     TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
		 TNT1 A 0 A_Explode(Random(40,75), 150)
		 TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
         Stop  
  }
}

Actor SnakeMagicSkull
{
     Projectile
	 Height 6
	 Radius 5
	 Speed 13
	 Gravity 0.5
	 -NOGRAVITY
	 Scale 0.7
	 Damage (Random(7,15))
	 DeathSound "sw/sticky_boom"
	 States
	     {
		 Spawn:
		    RSKP A 1
			Loop
		 Death:
		    TNT1 A 0 A_SpawnItemEx("MagicSkullLowExplode", 0, 0, 20, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
			TNT1 A 0 A_SpawnItemEx("MagicSkullBigExplode", 0, 2, 25, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
			TNT1 A 0 A_Explode(Random(40,75), 150)
			TNT1 AAA 10 Radius_Quake(5,35*2,0,25,0)
			Stop
			}
}	

Actor MagicSkullLowExplode
{
    +NOGRAVITY
	+NOBLOCKMAP
	-SOLID
	Scale 0.7
    States
	{
	Spawn:
	   WMI9 ABCDEFGHIJKLMNOPQRSTUV 2 Bright  
	   Stop 
	}
}

Actor MagicSkullBigExplode
{
	+NOGRAVITY
	+NOBLOCKMAP
	-SOLID
	Scale 1.3
	States
		{
		Spawn:
			TNT1 A 0
			TNT1 AAAAAAAA 0 A_CustomMissile ("SWGrenadeBall", 10, 0, random (0, 360), 2, random (150, 50))
			WMI4 ABCDEFGHIJKLMNOPQ 2 Bright
			Stop 
	}
}	

Actor SerpentGod : SamsaraMonsterBeastTotalGib
{
  Health 1000
  Radius 28
  Height 64
  Speed 8
  PainChance 48
  PainChance "Flame2", 8
  DamageFactor "Flame", 1.25
  Mass 768
  Monster
  -BOSS
  +NOINFIGHTING
  +BOSSDEATH
  +DONTRIP
  +NOINFIGHTING
  +NOBLOODDECALS
  SeeSound "Serpent/See"
  PainSound "Serpent/pain"
  DeathSound "Serpent/die"
  ActiveSound "Serpent/Act"
  Tag "Serpent Apprentice"	  
  Obituary "%o was no match for the apprentice of the Serpent God."
  MeleeRange 68
  RadiusDamageFactor 0.75
  Species "SWEnemies"
  XScale 0.98
  Yscale 0.86
  BloodType "SWDefaultBloodSpawner"  
  States
  {
  Spawn:
    SERP A 10 A_Look
    Loop
  See:
    SERP AA 2 A_Chase
	SERP A 2 A_Chase("Melee","")
	SERP BBB 2 A_Chase
	SERP CC 2 A_Chase
	SERP C 2 A_Chase("Melee","")
    Loop
  Melee:
	SERP DEF 3 A_FaceTarget
	TNT1 A 0 A_PlaySound("Serpent/Melee")
	SERP G 4 A_CustomMeleeAttack(75)
	SERP H 4
	SERP G 3
    Goto See
  Missile:
	TNT1 A 0 A_Jump(128, "BigShot")  
	SERP LK 4 A_FaceTarget
	SERP J 4 A_FaceTarget
	TNT1 A 0 A_PlaySound("Serpent/Magic")
	TNT1 A 0 A_CustomMissile("SerpentProj", 36, -20)
	SERP I 6 A_CustomMissile("SerpentProj", 36, 20)
	Goto See
  BigShot:
	SERP IJ 4 A_FaceTarget
	SERP K 4 A_FaceTarget
	TNT1 A 0 A_PlaySound("Serpent/Magic")  
	SERP L 6 A_CustomMissile("SerpentMissileSub2", 36)
	Goto See
  Pain:
    SERP A 2
    SERP A 2 A_Pain
    Goto See
  Death:  
	TNT1 A 0 A_GiveToTarget("KillCount",1)    
	TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")	
	SERP M 6 A_Scream
	SERP NOPQRSTUW 6
	TNT1 A 0 A_NoBlocking
	SERP X 6
	SERP Y 0 A_KillMaster
    SERP Y 0 A_SpawnItemEx("SWSerpentGodCorpse", 0, 0, 0, velx, vely, velz, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE|SXF_ABSOLUTEVELOCITY)
	TNT1 A -1
	stop
  Death.SWFist:
	TNT1 A 0 A_GiveToTarget("SWLoWangBloody", 1)
	TNT1 A 0 A_Jump(218, "Death")
	TNT1 A 0 A_SpawnItemEx("SWFisted")
	TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
	TNT1 A -1 A_Jump(256,"Death")
	wait	
  Death.SWKatana:
	TNT1 A 0 A_GiveToTarget("SWLoWangBloody", 1)
	TNT1 A 0 A_Jump(218, "Death")
	TNT1 A 0 A_SpawnItemEx("SWKatanad")
	TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
	TNT1 A -1 A_Jump(256,"Death")
	wait
  Death.SWShuriken:
	TNT1 A 0 A_Jump(218, "Death")
	TNT1 A 0 A_SpawnItemEx("SWShurikend")
	TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
	TNT1 A -1 A_Jump(256,"Death")
	wait
  Death.SWSticky:
  Death.SWStickyCoop:		
  Death.SWGrenade:
  Death.SWNuke:
  Death.SWRocket:
  Death.SWRailgun:
  Death.SWRailgunCoop:
  Death.SWNukeCoop:
	TNT1 A 0 A_JumpIfHealthLower(-3,"XDeathForWang")
  Death.SWBullet:	  
	TNT1 A 0 A_Jump(218, "Death")
	TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
	TNT1 A -1 A_Jump(256,"Death")
	wait
  Death.SWFlame:
  Death.SWFlame2:
  Death.SWFlame2Coop:
  Death.SWFlame3:	
	TNT1 A 0 A_JumpIfHealthLower(-3,"XDeathForWang")
	TNT1 A 0 A_Jump(218, "Burn")
	TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
	TNT1 A -1 A_Jump(256,"Burn")
	wait
  XDeathForWang:
	TNT1 A 0 A_Jump(218, "Death")	
	TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1",1)
	TNT1 A -1 A_Jump(256,"Death")
	wait
  Pain.ShrinkerDMG:
	SERP A 0
	"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
	"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
	"####" "#" 0 A_ChangeFlag("NOPAIN", 1)
	"####" "#" 0 A_ChangeFlag("NODAMAGE", 1)
	"####" "#" 0 A_ChangeFlag("SOLID",false)
	"####" "#" 0 A_PlaySound("duke/shrink")
	"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
	"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
	"####" "#" 0 A_SpawnItemEx("SerpentGod_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
	"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
	"####" "#" 0 A_SpawnItemEx("SerpentGod_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
	"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
	"####" "#" 0 A_SpawnItemEx("SerpentGod_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
	"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
	"####" "#" 0 A_SpawnItemEx("SerpentGod_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
	"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
	"####" "#" 0 A_SpawnItemEx("SerpentGod_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
	"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
	"####" "#" 0 A_SpawnItemEx("SerpentGod_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
	"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
	"####" "#" 0 A_SpawnItemEx("SerpentGod_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
	"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
	"####" "#" 0 A_SpawnItemEx("SerpentGod_Shrink", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
	TNT1 A 2
	TNT1 A 0 A_ChangeFlag("NODAMAGE", 1)
	TNT1 A 0 A_ChangeFlag("NOPAIN", 1)
	TNT1 A 0 A_ChangeFlag("VULNERABLE", 1)
	TNT1 A 0 A_ChangeFlag("SHOOTABLE", 0)
	Goto ShrunkLoop
  ShrunkLoop:
	TNT1 A 2 A_JumpIfInventory("MasterDeadToken",1,"ShrunkDie")
	loop
  ShrunkDie:
	TNT1 A 0
	TNT1 A 1 A_Die("Shrink")
	stop
  Death.Shrink:
	TNT1 A 0
	TNT1 A 1 A_KillMaster
	stop
    }
}

Actor SWSerpentGodCorpse : SamsaraCorpseActor
{
	Health 80
	Height 8
	Radius 16
	Mass 5000
	BloodType "SWDefaultBloodSpawner"
	+ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	+VULNERABLE
	-SOLID
	+NOTARGET
	-FRIENDLY
	+NOBLOODDECALS
	States
	{
		Spawn:
			SERP Y 4
			Loop
		Death:
			TNT1 A 0 A_RemoveMaster
			TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			TNT1 A 0 A_ChangeFlag("SOLID",false)
			TNT1 A 0 A_NoBlocking
			TNT1 A 0 A_PlaySound("sw/gib_land1",CHAN_BODY)
			TNT1 AAAAAAA 0 A_SpawnItemEx("SWBlood",random(-12,12),random(-12,12),random(0,40),random(-5,5),random(-5,5),random(4,10),0,SXF_USEBLOODCOLOR|SXF_TRANSFERTRANSLATION)
			stop
	}
}

actor SerpentGod_Shrink : SerpentGod
{
	+FRIGHTENED
	+NOTRIGGER
	-SHOOTABLE
	+THRUACTORS
	+NORADIUSDMG
	+VULNERABLE
	+QUICKTORETALIATE
	-COUNTKILL
	-NOGRAVITY
	+NODAMAGE
	+NOPAIN
	MaxStepHeight 0
	MaxDropOffHeight 0
	MeleeRange 16
	Height 16
	Health 1
	Speed 1
	PainChance "ShrinkDMG", 0
	DamageFactor "ShrinkDMG", 0.0
	PainChance "ExpanderDMG", 0
	DamageFactor "ExpanderDMG", 0.0
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIfInventory("ShrunkToken",1,"SpawnLoop")
			TNT1 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			TNT1 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			TNT1 A 0 A_SetScale(scalex*0.2,scaley*0.2) // setting the scale in ACS does work, but the actor shows up at normal size for a split second
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_Shrinker", 0, 1)
			SERP A 10
			Goto See
		SpawnLoop:
			SERP A 5 A_Look
			Loop
		See:
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			SERP A 2 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			SERP A 2 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			SERP A 2 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			SERP B 2 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			SERP B 2 A_Chase("","")			
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			SERP B 2 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			SERP C 2 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			SERP C 2 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			SERP C 2 A_Chase("","")
			"####" "#" 0 A_JumpIf(CallACS("Samsara_Shrinker", 3) == 0, "Forget")
			Loop
		Forget:
			"####" "#" 0 A_ClearTarget
			Goto See
		Grow:
			"####" "#" 4 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(1.0*(user_scalex/65536.0),1.0*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("SerpentGod", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 2 Thing_Remove(0)
			stop
		Squish:
			"####" "#" 0 A_GiveInventory("SquishToken", 1)
			"####" "#" 0 A_JumpIfInTargetInventory("DukeStomp", 1, 2)
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 2 
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 0 
			"####" "#" 2 A_Die("Squish")
			"####" "#" 0
			loop
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 A_GiveToTarget("KillCount", 1)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A 0 A_GiveInventory("MasterDeadToken", 1, AAPTR_Master)
			stop
		DukeStomp:
			"####" "#" 0 A_GiveToTarget("DukeStomp", 1)
			Goto Squish
	}
}

actor SerpentGod_ShrinkEffect : SerpentGod
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY	
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			SERP A 0
			SERP A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			SERP A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

Actor SerpentMissile2 : BabyRipperMissileBig
{
	Damage (6)	
	Obituary "%o was no match for an incarnation of the Serpent God."
	States
	{
		Death:
			TNT1 A 0 A_PlaySound("Ghost/Hit")
			TNT1 A 0 A_Explode(32, 132, 0)
			TNT1 A 0 A_CustomMissile("BabyRipperExplosion_3B", 8, 0, random(0,359), CMF_TRACKOWNER | CMF_AIMDIRECTION)
			TNT1 A 0 A_CustomMissile("BabyRipperExplosion_3B", 8, 0, random(0,359), CMF_TRACKOWNER | CMF_AIMDIRECTION)
			TNT1 A 0 A_CustomMissile("BabyRipperExplosion_3B", 8, 0, random(0,359), CMF_TRACKOWNER | CMF_AIMDIRECTION)
			TNT1 A 0 A_CustomMissile("BabyRipperExplosion_3B", 8, 0, random(0,359), CMF_TRACKOWNER | CMF_AIMDIRECTION)
			TNT1 A 0 A_CustomMissile("BabyRipperExplosion_3B", 8, 0, random(0,359), CMF_TRACKOWNER | CMF_AIMDIRECTION)
			TNT1 A 1
			Stop
	}
}

Actor BabyRipperExplosion_3B : BabyRipperExplosion {
	Damage (4*Random(2,1))
	Obituary "%o was no match for an incarnation of the Serpent God."
	States {
		Death:
			TNT1 A 0 A_NoGravity		
			TNT1 A 0 A_Explode(16, 132)
		    TNT1 A 0 A_PlaySound("Ghost/Hit")
			DS95 WXYZI 2			
			Stop
	}
}

Actor SerpentMissileSub2 : BabyRipperMissileBig
{
	Obituary "%o was no match for the apprentice of the Serpent God."
	Damage (3)	
	States
	{
		Death:
			TNT1 A 0 A_PlaySound("Ghost/Hit")
			TNT1 A 0 A_Explode(16, 128, 0)
			TNT1 A 0 A_CustomMissile("BabyRipperExplosion_2B", 8, 0, random(0,359), CMF_TRACKOWNER | CMF_AIMDIRECTION)
			TNT1 A 0 A_CustomMissile("BabyRipperExplosion_2B", 8, 0, random(0,359), CMF_TRACKOWNER | CMF_AIMDIRECTION)
			TNT1 A 0 A_CustomMissile("BabyRipperExplosion_2B", 8, 0, random(0,359), CMF_TRACKOWNER | CMF_AIMDIRECTION)
			TNT1 A 0 A_CustomMissile("BabyRipperExplosion_2B", 8, 0, random(0,359), CMF_TRACKOWNER | CMF_AIMDIRECTION)
			TNT1 A 0 A_CustomMissile("BabyRipperExplosion_2B", 8, 0, random(0,359), CMF_TRACKOWNER | CMF_AIMDIRECTION)
			TNT1 A 1
			Stop
	}
}

Actor BabyRipperExplosion_2B : BabyRipperExplosion { 
	Damage (4)
	Obituary "%o was no match for the apprentice of the Serpent God."
	States {
		Death:
			TNT1 A 0 A_NoGravity
			TNT1 A 0 A_Explode(8, 128)
		    TNT1 A 0 A_PlaySound("Ghost/Hit")
			DS95 WXYZI 2			
			Stop
	}
}	

Actor EvilSkull
{
	Radius 8
	Height 16
	Health 150
	Mass 8000
	Species "SWEnemies"
	+NOGRAVITY
	+SHOOTABLE
	+THRUSPECIES
	+DONTHARMCLASS
	+DONTHARMSPECIES
	+MTHRUSPECIES
	+NOBLOOD
    Tag "Accursed Head"	
	Scale 0.7
	RadiusDamageFactor 0.375
	Obituary "%o was no match for an incarnation of the Serpent God."
	States
	{
		Spawn:
			RSKP A 5
			TNT1 A 0 A_Stop
		SpawnLoop:
			TNT1 A 0 A_SetAngle(angle+10)
			RSKP A 1 A_Look
		Loop
		Clear:
			RSKP A 1 A_ClearTarget
		Goto SpawnLoop
		See:
			RSKP A 1
			TNT1 A 0 A_JumpIfInTargetInventory("SkullJumpCooldown", 1, "Clear")
			TNT1 A 0 A_JumpIfInTargetInventory("HasSkullSerpent", 1, "Clear")
			TNT1 A 0 A_JumpIfCloser(288, "Shoot")
		Goto SpawnLoop
		Shoot:
			TNT1 A 0 ACS_NamedExecuteAlways(SWSkullCooldown, 0)
			RSKP AA 4 A_FaceTarget
			TNT1 A 0 A_CustomMissile("EvilSkullProjSerpent")
			TNT1 A 0 A_Die("Shoot")
		Wait
		Death:
		    TNT1 A 0 Thing_ChangeTID(0, 0)
			TNT1 A 0 A_NoGravity
			TNT1 A 0 A_Stop
			TNT1 A 0 A_PlaySound("Weapons/GrenadeExplode")
			TNT1 A 5 A_SpawnItem("EvilSkullExplosion")
		Stop
		Death.Shoot:
			TNT1 A 5 A_FadeOut
			Stop
	}
}

Actor EvilSkullExplosion
{
	Scale 0.7
	Height 1
	Radius 1
	+NOINTERACTION
	-SOLID
	+CLIENTSIDEONLY
	States
	{
		Spawn:
			TNT1 A 0
			RSKP BCDEFGHIJKLMNO 2 Bright
		Stop
	}
}

Actor EvilSkullProjSerpent : EvilSkullProj
{
	PROJECTILE
	Height 16
	Radius 8
	Speed 20
	Damage 3
	-NOGRAVITY
	-NOBLOCKMAP
	+THRUSPECIES
	+DONTHARMCLASS
	+DONTHARMSPECIES
	+MTHRUSPECIES
	Species "SWEnemies"
	Obituary "%o was no match for an incarnation of the Serpent God."
	Scale 0.8	
	States
	{
		Spawn:
			TNT1 A 0
			RSKP AA 4 ThrustThingZ(0, 16, 0, 1)
		SpawnLoop:
			RSKP A 4
		Loop
		Death:
			TNT1 A 0 A_NoGravity
			TNT1 A 0 A_PlaySound("Weapons/MissileHitX")
			TNT1 A 0 A_Explode(12, 114, 0)
			RSKP BCDEFGHIJKLMNO 2 Bright
		Stop
	}
}

Actor SkullJumpCooldown : PowerProtection {	powerup.duration -2	damagefactor "normal", 1.0 }
Actor HasSkullSerpent : Inventory { inventory.maxamount 32 }
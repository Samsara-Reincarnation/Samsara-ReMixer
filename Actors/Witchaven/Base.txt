Actor WitchavenEnemyBaseMelee : SamsaraMonsterHumanoidTotalGib
{
	Radius 20
	Height 56
	Speed 10
	PainChance 67
	Species "WHEnemies"
	MONSTER
	+FLOORCLIP
	+NOTDMATCH
	+THRUGHOST
	+MISSILEMORE
	+MISSILEEVENMORE
	+NOFEAR
	+DONTBLAST
	+LONGMELEERANGE
	+CANPUSHWALLS
	+CANUSEWALLS
	+ACTIVATEMCROSS
	+CANPASS
	+NOINFIGHTING
	Mass 500
	PainSound ""
	ActiveSound ""
	DamageFactor "Mace", 1.1
	DamageFactor "DragonClaw", 1.5
	PainChance "MightyBoot", 255
	PainChance "MarathonStun", 255
}

Actor WitchavenEnemyBaseRanged : SamsaraMonsterHumanoidTotalGib
{
	Radius 20
	Height 56
	Speed 15
	PainChance 124
	Species "WHEnemies"
	MONSTER
	+FLOORCLIP
	+NOTDMATCH
	+THRUGHOST
	+MISSILEMORE
	+MISSILEEVENMORE
	+QUICKTORETALIATE
	+CANPUSHWALLS
	+CANUSEWALLS
	+ACTIVATEMCROSS
	+CANPASS
	+NOINFIGHTING
//  +SEEINVISIBLE
	Mass 300
	PainSound ""
	ActiveSound ""
	DamageFactor "Mace", 1.1
	DamageFactor "DragonClaw", 1.5
	PainChance "MightyBoot", 255
	PainChance "MarathonStun", 255
}

Actor WitchavenEnemyBaseMeleeBeast : SamsaraMonsterBeastTotalGib
{
	Radius 20
	Height 56
	Speed 10
	PainChance 67
	Species "WHEnemies"
	MONSTER
	+FLOORCLIP
	+NOTDMATCH
	+THRUGHOST
	+MISSILEMORE
	+MISSILEEVENMORE
	+NOFEAR
	+DONTBLAST
	+LONGMELEERANGE
	+CANPUSHWALLS
	+CANUSEWALLS
	+ACTIVATEMCROSS
	+CANPASS
	+NOINFIGHTING
	Mass 500
	PainSound ""
	ActiveSound ""
	DamageFactor "Mace", 1.1
	DamageFactor "DragonClaw", 1.5
	PainChance "MightyBoot", 255
	PainChance "MarathonStun", 255
}

Actor WitchavenEnemyBaseRangedBeast : SamsaraMonsterBeastTotalGib
{
	Radius 20
	Height 56
	Speed 15
	PainChance 124
	Species "WHEnemies"
	MONSTER
	+FLOORCLIP
	+NOTDMATCH
	+THRUGHOST
	+MISSILEMORE
	+MISSILEEVENMORE
	+QUICKTORETALIATE
	+CANPUSHWALLS
	+CANUSEWALLS
	+ACTIVATEMCROSS
	+CANPASS
	+NOINFIGHTING
//  +SEEINVISIBLE
	Mass 300
	PainSound ""
	ActiveSound ""
	DamageFactor "Mace", 1.1
	DamageFactor "DragonClaw", 1.5
	PainChance "MightyBoot", 255
	PainChance "MarathonStun", 255
}

Actor WitchavenEnemyBaseMeleeBeastLarge : SamsaraMonsterBeastTotalGib
{
	Radius 20
	Height 56
	Speed 10
	PainChance 67
	Species "WHEnemies"
	MONSTER
	+FLOORCLIP
	+NOTDMATCH
	+THRUGHOST
	+MISSILEMORE
	+MISSILEEVENMORE
	+NOFEAR
	+DONTBLAST
	+LONGMELEERANGE
	+CANPUSHWALLS
	+CANUSEWALLS
	+ACTIVATEMCROSS
	+CANPASS
	+NOINFIGHTING
	Mass 500
	PainSound ""
	ActiveSound ""
	DamageFactor "Mace", 1.1
	DamageFactor "DragonClaw", 1.5
	PainChance "MightyBoot", 255
	PainChance "MarathonStun", 255
}

Actor WitchavenEnemyBaseRangedBeastLarge : SamsaraMonsterBeastTotalGib
{
	Radius 20
	Height 56
	Speed 15
	PainChance 124
	Species "WHEnemies"
	MONSTER
	+FLOORCLIP
	+NOTDMATCH
	+THRUGHOST
	+MISSILEMORE
	+MISSILEEVENMORE
	+QUICKTORETALIATE
	+CANPUSHWALLS
	+CANUSEWALLS
	+ACTIVATEMCROSS
	+CANPASS
	+NOINFIGHTING
//  +SEEINVISIBLE
	Mass 300
	PainSound ""
	ActiveSound ""
	DamageFactor "Mace", 1.1
	DamageFactor "DragonClaw", 1.5
	PainChance "MightyBoot", 255
	PainChance "MarathonStun", 255
}

Actor WitchavenEnemyBaseMeleeSkeleton : SamsaraMonsterGhost
{
	Radius 20
	Height 56
	Speed 10
	PainChance 67
	Species "WHEnemies"
	MONSTER
	+FLOORCLIP
	+NOTDMATCH
	+THRUGHOST
	+MISSILEMORE
	+MISSILEEVENMORE
	+NOFEAR
	+DONTBLAST
	+LONGMELEERANGE
	+CANPUSHWALLS
	+CANUSEWALLS
	+ACTIVATEMCROSS
	+CANPASS
	+NOINFIGHTING
	+NOBLOOD
	Mass 500
	PainSound ""
	ActiveSound ""
	DamageFactor "Mace", 1.1
	DamageFactor "DragonClaw", 1.5
	PainChance "MightyBoot", 255
	PainChance "MarathonStun", 255
	PainChance "ShrinkerDMG", 0
	DamageFactor "PoisonBolt", 0.0
}

Actor WitchavenEnemyBaseRangedSkeleton : SamsaraMonsterGhost
{
	Radius 20
	Height 56
	Speed 15
	PainChance 124
	Species "WHEnemies"
	MONSTER
	+FLOORCLIP
	+NOTDMATCH
	+THRUGHOST
	+MISSILEMORE
	+MISSILEEVENMORE
	+QUICKTORETALIATE
	+CANPUSHWALLS
	+CANUSEWALLS
	+ACTIVATEMCROSS
	+CANPASS
	+NOINFIGHTING
	+NOBLOOD
//  +SEEINVISIBLE
	Mass 300
	PainSound ""
	ActiveSound ""
	DamageFactor "Mace", 1.1
	DamageFactor "DragonClaw", 1.5
	PainChance "MightyBoot", 255
	PainChance "MarathonStun", 255
	PainChance "ShrinkerDMG", 0
	DamageFactor "PoisonBolt", 0.0
}

//Dream on
actor Witchaven_PikeAxeMonsterDrop : SamsaraSlotTwoDrop
{
    Scale 0.23
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        PWHH A 0 NoDelay ACS_NamedExecuteWithResult("Samsara_SwitchableObject", 35)
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        TNT1 A 0 A_ChangeFlag("NOTIMEFREEZE",false)
      SpawnActualAnim:
        PWHH ABCD 5
        loop
    }
}

actor Witchaven_BattleAxeMonsterDrop : SamsaraSlotThreeDrop
{
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        PWHB A 0
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        PWHB A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

actor Witchaven_ShortSwordMonsterDrop : SamsaraSlotOneDrop
{
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        PWHH A 0 NoDelay ACS_NamedExecuteWithResult("Samsara_SwitchableObject", 34)
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        PWHH A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

actor Witchaven_HalberdMonsterDrop : SamsaraSlotFourDrop
{
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        PWHD A 0
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        PWHD A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

actor Witchaven_GreatSwordMonsterDrop : SamsaraSlotSixDrop
{
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        PWHG A 0
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        PWHG A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

actor Witchaven_MorningStarMonsterDrop : SamsaraSlotFiveDrop
{
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        PWHC A 0
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        PWHC A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

Actor Witchaven_QuiverArrowDrop : Ammo1Small
{
    Scale 0.25
    +DONTGIB
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        WH77 M 0
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        TNT1 A 0 A_ChangeFlag("NOTIMEFREEZE",false)
      SpawnActualAnim:
        WH77 MNOPQRST 4
        loop

      PickupSuccessPainkiller:
        goto PickupSuccessPainkillerReplenish
    }
}

actor WHAdamantineRing : SamsaraArmorPickup
{
    RenderStyle "Normal"
    Scale 0.2
    +DROPPED
    States
    {
      Spawn:
        WH77 I 0 Bright
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        TNT1 A 0 A_ChangeFlag("NOTIMEFREEZE",false)
      SpawnActualAnim:
        WH77 IJKL 4 Bright
        loop

      Pickup:
        TNT1 A 0 A_JumpIf(CallACS("SamsaraArmorCapCheck", -59, 0, 0, 2), "PickupFail")
      PickupSuccess:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 6, 1, 0)
        TNT1 A 0 A_GiveInventory("SamsaraArmorPickupBlend")
        TNT1 A 0 A_PlaySound("gpickup/gen",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        TNT1 A 0 ACS_NamedExecuteWithResult("SamsaraPlayerMaxArmorAdjust", -59)
        TNT1 A 0 ACS_NamedExecuteWithResult("SamsaraArmorAdjust", -59, 0, 0, 2)
        stop
    }
}

actor WHAdamantineRingArmor : BasicArmorBonus
{
    Inventory.Icon "WH77I0"
    Armor.SavePercent 33.215
    Armor.SaveAmount 15
    Armor.MaxSaveAmount 200
    /*Armor.MaxBonus 3
    Armor.MaxBonusMax 50*/
}

Actor WHShadowAmulet : PowerupGiver
{
	Inventory.PickupMessage "Shadow Amulet! Monsters will flee from you for 100 seconds!"
	Inventory.PickupSound "wtargoth/spell5"
	Scale 0.25
	Powerup.Type Frightener
	Powerup.Duration -100
	+AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP
	+DROPPED
	+FLOATBOB
	States
	{
	Spawn:
		WH77 AABBCCDDEEFFGGHH 2 Bright
		Loop
	}
}

Actor WTGore_Skeleton : WTGore
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 1 A_Jump(256,"Gore1","Gore2","Gore3","Gore4","Gore5","Gore6","Gore7","Gore8","Gore9","Gore10")
		Stop
	Gore1:
		WH_F XX 36 A_JumpIf(waterlevel > 1, "GoreBegone")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraClientDecorate", 13), "Gore1")
		WH_F X 10 A_JumpIf(waterlevel > 1, "GoreBegone")
		Stop
	Gore2:
		WH_F YY 36 A_JumpIf(waterlevel > 1, "GoreBegone")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraClientDecorate", 13), "Gore2")
		WH_F Y 10 A_JumpIf(waterlevel > 1, "GoreBegone")
		Stop
	Gore3:
		WH_F ZZ 36 A_JumpIf(waterlevel > 1, "GoreBegone")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraClientDecorate", 13), "Gore3")
		WH_F Z 10 A_JumpIf(waterlevel > 1, "GoreBegone")
		Stop
	Gore4:
		WH_A AA 36 A_JumpIf(waterlevel > 1, "GoreBegone")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraClientDecorate", 13), "Gore4")
		WH_A A 10 A_JumpIf(waterlevel > 1, "GoreBegone")
		Stop
	Gore5:
		WH_A BB 36 A_JumpIf(waterlevel > 1, "GoreBegone")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraClientDecorate", 13), "Gore5")
		WH_A B 10 A_JumpIf(waterlevel > 1, "GoreBegone")
		Stop
	Gore6:
		WH_A CC 36 A_JumpIf(waterlevel > 1, "GoreBegone")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraClientDecorate", 13), "Gore6")
		WH_A C 10 A_JumpIf(waterlevel > 1, "GoreBegone")
		Stop
	Gore7:
		WH_A DD 36 A_JumpIf(waterlevel > 1, "GoreBegone")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraClientDecorate", 13), "Gore7")
		WH_A D 10 A_JumpIf(waterlevel > 1, "GoreBegone")
		Stop
	Gore8:
		WH_A EE 36 A_JumpIf(waterlevel > 1, "GoreBegone")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraClientDecorate", 13), "Gore8")
		WH_A E 10 A_JumpIf(waterlevel > 1, "GoreBegone")
		Stop
	Gore9:
		WH_A FF 36 A_JumpIf(waterlevel > 1, "GoreBegone")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraClientDecorate", 13), "Gore9")
		WH_A F 10 A_JumpIf(waterlevel > 1, "GoreBegone")
		Stop
	Gore10:
		WH_A GG 36 A_JumpIf(waterlevel > 1, "GoreBegone")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraClientDecorate", 13), "Gore10")
		WH_A G 10 A_JumpIf(waterlevel > 1, "GoreBegone")
		Stop
	}
}

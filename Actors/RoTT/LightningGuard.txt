ACTOR LightningGuard : RoTTHumanoid {
   Health 50
   SCALE 0.60
   PainChance 255
   AttackSound ""
   SeeSound "LnGuardsee"   
   PainSound "LnGuardouch"
   DeathSound "LnGuarddie"
   MeleeRange 64
   MeleeDamage 1
   DropItem "LightningGuardDrop"
   Species "Enemies"
   +MTHRUSPECIES
   +DONTHARMSPECIES
   HitObituary "%o got yoinked. %g was never heard from again."
   Obituary "%o was killed by a Lightning Guard."
   Tag "Lightning Guard"
   Speed 7
   States {
	Spawn:
	   LIGW A 0
	   LIGW A 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
	   LIGW A 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
	   LIGW A 0 A_GiveInventory("AlreadySpawned",1)
	Spawn2:
	   LIGW A 10 A_Look
       Loop
	Idle:
	   LIGW A 10 A_Look
       Loop   
	See:
       LIGW B 3 A_Chase
	   LIGW B 2 A_Chase
	   LIGW C 3 A_Chase
	   LIGW C 2 A_Chase("Melee", "CheckWeap")
	   LIGW D 3 A_Chase
	   LIGW D 2 A_Chase
	   LIGW E 3 A_Chase
	   LIGW E 2 A_Chase("Melee", "CheckWeap")
       Loop
	Melee:
	   TNT1 A 0 A_ChangeFlag("NOPAIN",0)
	   TNT1 A 0 A_JumpIfInventory("StoleWeapon", 1, "CheckWeap")
	   TNT1 A 0 A_CheckFlag("ISMONSTER", 2, AAPTR_TARGET)
	   TNT1 A 0 A_JumpIf(CallACS("LightningGuardSteal", 1) == 1, "Steal")  
	   TNT1 A 0
	   Goto Missile 
	Steal:
	   TNT1 A 0 A_ChangeFlag("NOPAIN",0)
	   LGUS A 1	A_FaceTarget
	   LGUS A 1 A_JumpIfCloser(84,1)	   
	   Goto See	   
	   LGUS A 1	A_FaceTarget   
	   LGUS A 1 A_JumpIfCloser(84,1)	   
	   Goto See	   
	   LGUS A 1 A_FaceTarget
	   LGUS A 1 A_JumpIfCloser(84,1)	   
	   Goto See	   
	   LGUS A 1 A_FaceTarget
	   LGUS A 1 A_JumpIfCloser(84,1)	   
	   Goto See	   
	   LGUS A 1 A_FaceTarget
	   LGUS A 1 A_JumpIfCloser(84,1)	   
	   Goto See	   
	   LGUS A 1 A_FaceTarget
	   LGUS A 1 A_JumpIfCloser(84,1)	   
	   Goto See	   
	   LGUS A 1 A_FaceTarget
	   LGUS A 1 A_JumpIfCloser(84,1)	   
	   Goto See	   
	   LGUS A 1 A_FaceTarget
	   LGUS A 1 A_JumpIfCloser(84,1)	   
	   Goto See	   
	   LGUS A 1 A_FaceTarget
	   LGUS A 1 A_JumpIfCloser(84,1)	   
	   Goto See	   
	   LGUS A 1 A_FaceTarget
	   LGUS A 1 A_JumpIfCloser(84,1)	   
	   Goto See	   
	   LGUS A 1 A_FaceTarget
	   LGUS A 1 A_JumpIfCloser(84,1)	   
	   Goto See	   
	   LGUS A 1 A_FaceTarget
	   LGUS A 1 A_JumpIfCloser(84,1)	   
	   Goto See	      
	   TNT1 A 0 A_Playsound("LnGuardSteal")
	   LGUS B 6 A_MeleeAttack
	   TNT1 A 0 A_GiveInventory("StoleWeapon", CallACS("LightningGuardSteal",2))
	   Goto See
	Missile:
	   TNT1 A 0 A_ChangeFlag("NOPAIN",0)
       LIGW F 8 A_FaceTarget
	   TNT1 A 0 A_JumpIfInventory("StoleWeapon", 1, "CheckWeap")
	   TNT1 A 0 A_FaceTarget
       TNT1 A 0 A_Playsound("rott/pistolf")
	   LIGW G 8 Bright A_CustomBulletAttack(13.0,0,1,10,"RottPuff", 0, CBAF_NORANDOM)
       LIGW H 8
	   TNT1 A 0 A_FaceTarget
       TNT1 A 0 A_Playsound("rott/pistolf")
	   LIGW G 8 Bright A_CustomBulletAttack(13.0,0,1,10,"RottPuff", 0, CBAF_NORANDOM)
	   LIGW H 1 A_GiveInventory("AttackDecider", 1)
       LIGW H 7 A_JumpIfInventory("DoAttack", 1, "Repeat")
       Goto See
	Missile2:
       TNT1 A 0 A_FaceTarget
       TNT1 A 0 A_Playsound("mp40/shoot")
	   LIGW F 3 Bright A_CustomBulletAttack(13.0,5.0,1,10,"RottPuff", 0, CBAF_NORANDOM)
       LIGW G 3
	   TNT1 A 0 A_FaceTarget
       TNT1 A 0 A_Playsound("mp40/shoot")
	   LIGW H 3 Bright A_CustomBulletAttack(13.0,5.0,1,10,"RottPuff", 0, CBAF_NORANDOM)
       LIGW G 1 A_GiveInventory("AttackDecider_2", 1)
	   LIGW H 2 A_JumpIfInventory("DoAttack", 1, "Repeat")
       Goto See
	Repeat:
	   TNT1 A 0 A_TakeInventory("DoAttack", 1)
	   TNT1 A 0 A_JumpIf(1 == ACS_NamedExecuteWithResult("RoTT808", 0), "See")
	   LIGW B 3 A_Chase("Melee", "Missile")
	   Goto Missile
	CheckWeap:
	   TNT1 A 0 A_JumpIfInventory("StoleWeapon", 9, "FireFlameWall")
	   TNT1 A 0 A_JumpIfInventory("StoleWeapon", 8, "FireDrunkMissile")
	   TNT1 A 0 A_JumpIfInventory("StoleWeapon", 7, "FireFirebomb")
	   TNT1 A 0 A_JumpIfInventory("StoleWeapon", 6, "Missile2")
	   TNT1 A 0 A_JumpIfInventory("StoleWeapon", 5, "FireBazooka")
	   TNT1 A 0 A_JumpIfInventory("StoleWeapon", 4, "FireHeatSeeker")
	   TNT1 A 0 A_JumpIfInventory("StoleWeapon", 3, "FireSplitMissile")
	   TNT1 A 0 A_JumpIfInventory("StoleWeapon", 2, "FireExcalibat")
	   TNT1 A 0 A_JumpIfInventory("StoleWeapon", 1, "FireDarkStaff")
	   Goto Missile
	FireBazooka:
       TNT1 A 0 A_JumpIfCloser(36,6)
	   TNT1 A 0 A_FaceTarget
	   TNT1 A 0 A_Playsound("bazooka/shoot")
	   LIGW G 8 Bright A_CustomMissile("MissileLow",44)
	   LIGW H 8
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", TRUE)
	   Goto See
       TNT1 AAA 0
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", FALSE)
	   goto FireBazooka+1
	FireHeatSeeker:
       TNT1 A 0 A_JumpIfCloser(36,6)
	   TNT1 A 0 A_FaceTarget	   
	   TNT1 A 0 A_Playsound("hseek/shoot")
	   LIGW G 8 Bright A_CustomMissile("HSMissile_2")
	   LIGW H 8
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", TRUE)
       Goto See
	   TNT1 AAA 0
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", FALSE)
	   goto FireHeatSeeker+1
	FireDrunkMissile:       
       TNT1 A 0 A_JumpIfCloser(72,12)
	   TNT1 A 0 A_Playsound("drunk/shoot")
	   LIGW F 16 A_FaceTarget
	   TNT1 A 0 A_FaceTarget	   
	   LIGW G 0 Bright A_CustomMissile("DrunkMLow",44,-8)
	   LIGW G 0 Bright A_CustomMissile("DrunkMLow",44,-8)
	   LIGW G 0 Bright A_CustomMissile("DrunkMLow",44,-8)
	   LIGW G 0 Bright A_CustomMissile("DrunkMLow",44,-8)
	   LIGW G 0 Bright A_CustomMissile("DrunkMLow",44,-8)
	   LIGW G 8 Bright
	   LIGW H 8
       TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", TRUE)
	   Goto See
	   TNT1 AAA 0
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", FALSE)
	   Goto FireDrunkMissile+1
	FireFireBomb:
       TNT1 A 0 A_JumpIfCloser(192,7)
	   LIGW F 16 A_FaceTarget
	   TNT1 A 0 A_FaceTarget	   
	   TNT1 A 0 A_Playsound("firebomb/shoot")
	   LIGW G 8 Bright A_CustomMissile("FBombLow",44)
	   LIGW H 8
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", TRUE)
       Goto See
	   TNT1 AAA 0
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", FALSE)
	   goto FireFireBomb+1
	FireFlameWall:
       TNT1 A 0 A_JumpIfCloser(72,7)
	   LIGW F 16 A_FaceTarget
	   TNT1 A 0 A_FaceTarget	   
	   TNT1 A 0 A_PlaySound("FireWall/Shoot")
	   LIGW G 8 Bright A_CustomMissile("FwallLow",44)
	   LIGW H 8
       TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", TRUE)
       Goto See
	   TNT1 AAA 0
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", FALSE)
	   goto FireFlamewall+1
	FireExcalibat:
       TNT1 A 0 A_JumpIfCloser(96,18)
	   LIGW F 16 A_FaceTarget
	   TNT1 A 0 A_FaceTarget	   
	   TNT1 A 0 A_Playsound("excalibat/swing")
	   LIGW G 1 Bright A_CustomMissile("BaseballLow", 36, 0,-35,128)
	   LIGW G 1 Bright A_CustomMissile("BaseballLow", 36, 0,-28,128)
	   LIGW G 1 Bright A_CustomMissile("BaseballLow", 36, 0,-21,128)
	   LIGW G 1 Bright A_CustomMissile("BaseballLow", 36, 0,-14,128)
	   LIGW G 1 Bright A_CustomMissile("BaseballLow", 36, 0,-7,128)
	   LIGW G 1 Bright A_CustomMissile("BaseballLow", 36, 0,0,128)
	   LIGW G 1 Bright A_CustomMissile("BaseballLow", 36, 0,7,128)
	   LIGW G 1 Bright A_CustomMissile("BaseballLow", 36, 0,14,128)
	   LIGW G 1 Bright A_CustomMissile("BaseballLow", 36, 0,21,128)
	   LIGW G 1 Bright A_CustomMissile("BaseballLow", 36, 0,28,128)
	   LIGW G 1 Bright A_CustomMissile("BaseballLow", 36, 0,35,128)
	   LIGW G 8 Bright
	   LIGW H 8
       TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", TRUE)
       Goto See
	   TNT1 AAA 0
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", FALSE)
	   goto FireExcalibat+1 
	FireSplitMissile:       
	   TNT1 A 0 A_JumpIfCloser(60,9)
	   LIGW F 16 A_FaceTarget
	   TNT1 A 0 A_FaceTarget	   
	   TNT1 A 0 A_Playsound("split/shoot1")
	   LIGW G 0 Bright A_CustomMissile("SMissile1Low",44)
	   LIGW G 0 Bright A_CustomMissile("SMissile2Low",44)
	   LIGW G 8 Bright
	   LIGW H 8
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", TRUE)
       Goto See
	   TNT1 AAA 0
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", FALSE)
	   goto FireSplitMissile+1  
	BatMelee:
	   TNT1 A 0 A_FaceTarget	
	   TNT1 A 0 A_Playsound("excalibat/swing")
	   LGUS A 8 A_CustomMeleeAttack(15,"excalibat/hit")	 
	   LGUS B 8 
	   LGUS A 8
	   Goto See
	FireDarkStaff:
	   TNT1 A 0 A_JumpIfCloser(96,9)
	   LIGW F 2 Bright A_PlaySound("ksphere/charge",CHAN_WEAPON)
       LIGW F 9 Bright
       LIGW F 9 Bright
       LIGW F 9 Bright
       LIGW F 9 Bright
	   LIGW F 0 A_PlaySound("ksphere/fire",CHAN_WEAPON)
       LIGW G 1 Bright A_CustomMissile("Ksphere_RottLow",27)
	   LIGW H 8
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", TRUE)
       Goto See
	   TNT1 AAA 0
	   TNT1 A 0 A_ChangeFlag("DONTHARMSPECIES", FALSE)
	   goto FireDarkStaff+1  
	Pain:
       TNT1 A 0 A_Jump(128, 4)
       TNT1 A 0 A_JumpIfHealthLower(10,2)
	   TNT1 A 0 A_Jump(256,2)
	   TNT1 A 0 A_Die("Plead")
	   TNT1 A 0
       TNT1 A 0 A_Jump(128,"Pain2")
       LIGW J 3
       LIGW J 4 A_Pain
       Goto See
	Pain2:
       LIGW I 3
       LIGW I 4 A_Pain
       Goto See
	Pain.ZorchPistol:
	Pain.Zorch:
	Pain.ZorchKamikaze:
	Pain.PhasingZorch:
	Pain.ZorchSpectral:
       LIGW J 0 A_Jump(128,"Pain2")
       LIGW J 3
       LIGW J 4 A_Pain
       Goto See
	Pain.MightyBoot:
		TNT1 A 0 A_ChangeFlag("NOPAIN",1)
		TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
		TNT1 A 0 A_Jump(128, "BootPain2")
		LIGP A 2 A_FaceTarget
		TNT1 A 0 A_Recoil(14)
		LIGP A 16 A_Pain
		Goto See
	BootPain2:
		LIGP B 2 A_FaceTarget
		TNT1 A 0 A_Recoil(14)
		LIGP B 16 A_Pain
		Goto See
	Pain.MarathonStun:
		TNT1 A 0 A_Stop
		TNT1 A 0 A_GiveInventory("NothingSpeed")
		TNT1 A 0 A_PlaySoundEx("marathon/tech50/stun","body",0,0)
		TNT1 A 0 A_Jump(128, "PainMara2")
		LIGP A 5 A_FaceTarget
		TNT1 A 0 A_Gravity
		LIGP A 30 A_Pain
		LIGP A 70
		Goto See
	PainMara2:
		LIGP B 5 A_FaceTarget
		TNT1 A 0 A_Gravity
		LIGP B 30 A_Pain
		LIGP B 70
		Goto See
	Death.Plead:
	   LIGW I 1 A_Fall
	   LIGW I 0 A_SpawnItemEx("LGuardAltDeath",0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL,0,tid)
	   TNT1 A 20 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
	   stop
	Death.ZorchPistol:
	Death.Zorch:
	Death.ZorchKamikaze:
	Death.PhasingZorch:
	Death.ZorchSpectral:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
		"####" "#" 3 A_SpawnItem("ZorchEffectSmall")
		"####" "#" 0 A_GiveInventory("EnemyZorched",1)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 A_Scream
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 3 A_SetTranslucent(0.4,0)
		"####" "#" 3 A_SetTranslucent(0.3,0)
		"####" "#" 3 A_SetTranslucent(0.2,0)
		"####" "#" 3 A_SetTranslucent(0.1,0) 
		TNT1 A 1 A_SetTranslucent(1,0)
		"####" "#" -1
		stop	
	Death:
	   LIGW A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)   
	   TNT1 A 0 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
       TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")
       LIGW K 5 A_Fall
       LIGW L 6 A_Scream
       LIGW M 7 
       LIGW N 6
	   LIGW O -1
	   Stop
	Raise:
       LIGW A 0
	   "####" "#" 0 A_JumpIfInventory("EnemyZorched",1,"ZorchRaise")
	   LIGW NMLK 3
       Goto See
	ZorchRaise:
		"####" "#" 1 A_UnsetShootable
		"####" "#" 1 A_SpawnItem("SpawnFire2")
		"####" "#" 0 A_PlaySound("archvile/resummon")
		"####" "#" 1 A_TakeInventory("EnemyZorched",1)
		"####" "#" 0 A_SetTranslucent(0.1,0)
		"####" "#" 3 A_SetTranslucent(0.2,0)
		"####" "#" 3 A_SetTranslucent(0.3,0)
		"####" "#" 3 A_SetTranslucent(0.4,0)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 3 A_SetTranslucent(1,0)
		"####" "#" 1 A_SetShootable
		Goto See	
	Pain.LifeLeech:
		TNT1 A 0 A_GiveToTarget("SerpentHealth", 1)
		Goto Pain		
	Pain.Vodoo:
		TNT1 A 0 A_GiveToTarget("Voodoo", 1)
		Goto Pain
	Death.PhosFireCoop:
	Death.PGFire:
    Death.HexGreenFire:
    Death.QuakeFire:
	Death.WTRangedFire:
	Death.FireExplosive:
    Death.WolfenFlamethrower:	  
    Death.MarathonPlasma:
    Burn:		
	Death.RottFire:	    
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItem("BurningSkeleton")	
		TNT1 A 0 A_NoBlocking
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
	    Stop	
	Death.TotenkopfFire:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItem("Totenkopf_BurningGuard")
		TNT1 A 5 A_NoBlocking
		Stop	
	Death.RottExplosive:		
	XDeath:
	    TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItem("RottGibbedMan")
		TNT1 A 1
		TNT1 A 0 A_Jump(128, 2)
		TNT1 A 0 A_GiveToTarget("LudicrousGibsItem", 1)
		TNT1 AA 0
		TNT1 A 0 A_NoBlocking
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
	   Stop		  
	Death.RottDisintegrate:
		TNT1 A 0 A_ChangeFlag("SOLID", 0)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_Scream
		TNT1 A 0 A_SpawnItem("RGodModeDeath")
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
	    stop
	Death.HLLaser:
	Death.HLExplosive:
	Death.HLRPGExplosive:	
		TNT1 A 0 A_JumpIfHealthLower(-20,1)
		goto Death
	Death.HLEgon:
	Death.FreemanGibs:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)  
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_SpawnItemEx("HLGenericGibSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_Fall
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
		TNT1 A 5 A_FadeOut
		stop
	Pain.Shock:
	Pain.Tesla:
		CBGS H 4 A_Pain
		CBGS H 4
		Goto See
	Death.CalebFire:
	Death.LifeLeech:
		TNT1 A 0 A_Jump(218, 2)
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
		TNT1 A 0 A_SpawnItemEx("BloodBurningCorpse_Generic", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_NoBlocking
		TNT1 A 5
		stop
	Death.CalebNapalm:
	Death.Vodoo:
	Death.VoodooPuff:
	Death.DynamiteCoop:
	Death.Dynamite:	  
	Death.Shock:	  	  
		TNT1 A 0 A_JumpIfHealthLower(-50, "XDeathForCaleb")
	Death.Tesla:
	Death.CalebBullet:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
		Goto Death
	XDeathForCaleb:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("CalebGibSpawner")
		TNT1 A 0 A_Jump(96, 2)
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1",1)
		TNT1 A 0
		Goto XDeath
	Death.EradExplosive:
	Death.EradNova:
	Death.EradShock:
   		TNT1 A 0 A_JumpIfHealthLower(-5, "EleenaXDeath")
		Goto EleenaDeath
    Death.EradDisc:
	Death.EradPiercingDart:
	Death.EradExplosive2:	  
	EleenaDeath: 
		TNT1 A 0 A_Jump(218, 2)
		TNT1 A 0 A_GiveToTarget("EleenaDMTaunt1", 1)
		TNT1 A 0
		Goto Death
	EleenaXDeath:
	    TNT1 A 0 A_UnsetSolid
        TNT1 A 0 A_Jump(96, 2)
        TNT1 A 0 A_GiveToTarget("EleenaGibTaunt",1)
		TNT1 A 0
		Goto XDeath
	Death.DukeDamage:
	Death.DukePistol:
		TNT1 A 0 A_Jump(218,"Death")
		TNT1 A 0 A_GiveToTarget("DukeKillTaunt",1)
		goto Death
	Death.MightyBoot:
		TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
		TNT1 A 0 A_Jump(64,"Death")
		TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
		goto Death
	Death.DukeExplosive:
		TNT1 A 0 A_JumpIfHealthLower(-3,"DukeGibStart")
		Goto Death.DukeDamage			
	DukeGibStart:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnDebris("DukeGibs1")
		TNT1 A 0 A_SpawnDebris("DukeGibs2")
		TNT1 A 0 A_SpawnDebris("DukeGibs3")
		TNT1 A 0 A_SpawnDebris("DukeGibs4")
		TNT1 A 0 A_SpawnDebris("DukeGibs5")
		TNT1 A 0 A_SpawnDebris("DukeGibs6")
		TNT1 A 0 A_PlaySound("duke/enemygib")
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("DukeGibTaunt",1)			
		Goto XDeath	  
	Death.DukeIce:
		"####" "#" 0 A_PlaySound("duke/enemyfreeze")
		"####" "#" 0 A_GiveInventory("FreezethrowerWeakness")
		"####" "#" 0 A_Jump(218,"Ice")
		"####" "#" 0 A_GiveToTarget("DukeKillTaunt",1)
	Ice:
	Death.HexenIce:
	Death.WTMeleeIce:
	Death.WTRangedIce:
	Death.Ice:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_GenericFreezeDeath
		"####" "#" 70 A_UnsetSolid
		"####" "#" 0 A_IceGuyDie
		"####" "#" 1 A_IceGuyDie
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
		stop
	Death.QuakeElectric:
	Death.NotQuadded:
	Death.QuakeExplosive:
		TNT1 A 0 A_JumpIfHealthLower(-50, "XDeathForRanger")
		goto Death
	XDeath.QuakeElectric:
	XDeath.NotQuadded:
	XDeath.QuakeExplosive:
	XDeathForRanger:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)  
		TNT1 A 0 A_SpawnItemEx("QuakeGibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 A_Fall
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
		Stop
	Death.BittermanDamage:
		TNT1 A 0 A_JumpIfHealthLower(-50, "XdeathForBitterman")
		goto Death
	XdeathForBitterman:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)  
		TNT1 A 0 A_SpawnItemEx("Q2GibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 A_Fall
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
		Stop
	Pain.Hexen2RavenDamage:
		TNT1 A 0 A_Jump(192,"Pain")
		TNT1 A 0 A_SpawnItemEx("Hexen2GibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION|SXF_SETMASTER)
		Goto Pain
	Death.Hexen2Damage:
	Death.Hexen2Electric:
		TNT1 A 0 A_JumpIfHealthLower(-50,"XDeathForDemoness")
		Goto Death
	Death.Hexen2Fire:
		TNT1 A 0 A_JumpIfHealthLower(-50,"XDeathForDemoness")
		Goto Burn
	Death.Hexen2Extreme:
	Death.Hexen2ElectricExtreme:
	XDeathForDemoness:
		TNT1 A 0 A_Playsound("Hexen2/Gib", CHAN_5)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)  
		TNT1 A 0 A_SpawnItemEx("Hexen2GibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION|SXF_SETMASTER)
		TNT1 A 0 A_NoBlocking
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
		stop		
	Death.SWFist:
		TNT1 A 0 A_GiveToTarget("SWLoWangBloody", 1)
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_SpawnItemEx("SWFisted")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death	
	Death.SWKatana:
		TNT1 A 0 A_GiveToTarget("SWLoWangBloody", 1)
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_SpawnItemEx("SWKatanad")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death	
	Death.SWShuriken:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_SpawnItemEx("SWShurikend")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death
	Death.SWSticky:
    Death.SWStickyCoop:	
	Death.SWGrenade:
	Death.SWNuke:
	Death.SWRocket:
	Death.SWRailgun:
	Death.SWRailgunCoop:
	Death.SWNukeCoop:
		TNT1 A 0 A_JumpIfHealthLower(-3,"XDeathForWang")
    Death.SWBullet:	  
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death
	XDeathForWang:
	    TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_Jump(218, "XDeath")
		TNT1 A 0 A_SpawnItemEx("SWHumanGibSpawner")		
        TNT1 A 0 A_GiveToTarget("LoWangDMTaunt2",1)
		goto XDeath			
	Disintegrate:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_ChangeFlag("SOLID",FALSE)
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_Stop
		"####" "#" 3 A_SpawnItem("DisintEffectSmall",0,10)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
		"####" "#" 0
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
		stop
	Death.Nuke:
		"####" "#" 0 A_ChangeFlag("SOLID", 0)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_NoBlocking		
		"####" "#" 0 A_SpawnItem("WTNukeDeathSmall")
		"####" "#################" 3 A_Fadeout(0.05)
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
		stop			
	Death.PSRAPower:
	Death.PSRAPowerCoop:
	Death.PSExplosive:
	Death.PSExplosiveCoop:
		TNT1 A 0 A_JumpIfHealthLower(-30, "XDeathForJon")
	Death.PSBullet:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("JonDMTaunt1", 1)
		Goto Death
	XDeathForJon:
	    TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("PSGibSpawner")
        TNT1 A 0 A_Jump(96,"XDeath")
        TNT1 A 0 A_GiveToTarget("JonDMTaunt1",1)
		Goto XDeath		
	Death.LeonardDamage2:
	Death.LeonardDamage3:
		TNT1 A 0 A_JumpIfHealthLower(-20, "XDeathForLeonard")
	Death.LeonardDamage0:
	Death.LeonardDamage1:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LeonardDMTaunt1", 1)
		Goto Death
	XDeathForLeonard:
	    TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("RRGibSpawner")
        TNT1 A 0 A_Jump(96,"XDeath")
        TNT1 A 0 A_GiveToTarget("LeonardGibTaunt",1)
		Goto XDeath		
	Death.SWFlame:
	Death.SWFlame2:
	Death.SWFlame2Coop:
	Death.SWFlame3:	
		TNT1 A 0 A_Jump(218, "Burn")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Burn
	Death.PSFire:	
		TNT1 A 0 A_Jump(218, "Burn")
		TNT1 A 0 A_GiveToTarget("JonDMTaunt1", 1)
		Goto Burn
	Pain.ShrinkerDMG:
		LIGP A 0
		"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
		"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
		"####" "#" 0 A_ChangeFlag("NOPAIN", 1)
		"####" "#" 0 A_ChangeFlag("NODAMAGE", 1)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_PlaySound("duke/shrink")
		"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("LightningGuard_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("LightningGuard_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("LightningGuard_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("LightningGuard_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("LightningGuard_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("LightningGuard_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
		"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("LightningGuard_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
		"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
		"####" "#" 0 A_SpawnItemEx("LightningGuard_Shrink", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
		TNT1 A 0 Thing_Remove(0)
		stop
	Death.ExpanderDMG:
	XDeath.ExpanderDMG:
		LIGW A 0
		"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
		"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
		"####" "#" 0 A_PlaySound("duke/expand")
		Goto ExpanderLoop
	ExpanderLoop:
		"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
		"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
		"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
		"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
		"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
		"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPop")
		loop
	ExpanderPop:	
		"####" "#" 10
		TNT1 A 0 A_SpawnItemEx("ExpanderExplosion_Basic",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
		TNT1 A 0 A_PlaySound("duke/explosion", 6, 1.0)
		TNT1 A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_Jump(96,2)
		TNT1 A 0 A_GiveToTarget("DukeGibTaunt", 1)
		TNT1 A 0 A_SetScale (1.0, 1.0)
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_GiveToTarget("DukeGibTaunt",1)
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
		TNT1 A 1
		Stop
	Death.ExpanderDMGCoop:
	XDeath.ExpanderDMGCoop:
		LIGW A 0
		"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
		"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
		"####" "#" 0 A_PlaySound("duke/expand")
		Goto ExpanderLoopCoop
	ExpanderLoopCoop:
		"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
		"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
		"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
		"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
		"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
		"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPopCoop")
		loop
	ExpanderPopCoop:	
		"####" "#" 10
		TNT1 A 0 A_SpawnItemEx("ExpanderExplosion_Coop",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
		TNT1 A 0 A_PlaySound("duke/explosion", 6, 1.0)
		TNT1 A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_Jump(96,2)
		TNT1 A 0 A_GiveToTarget("DukeGibTaunt", 1)
		TNT1 A 0 A_SetScale (1.0, 1.0)
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_GiveToTarget("DukeGibTaunt",1)
		TNT1 A 10 ACS_NamedExecuteAlways("LightningGuardSteal",0,3)
		TNT1 A 1
		Stop
   }
}

ACTOR LGuardAltDeath : LightningGuard {
   Tag "Lightning Guard"
   Health 10
   GibHealth -73
   SeeSound ""
   +NOPAIN
   states
	{
    Spawn:
    See:
       LIGW R 4
       LIGW S 5 
       LIGW T 5 
       LIGW U 5 
       LIGW V 5
       LIGW W 5 A_PlaySound(LnGuardplea)
    Pleading:
       LIGW V 5 
       LIGW U 5 
       LIGW T 5 
       LIGW U 5 
       LIGW V 5 
       LIGW W 5 
       LIGW V 5 A_PlaySound(LnGuardplea3)
       LIGW U 5 
       LIGW V 5 
       LIGW W 5 
       LIGW T 5 
       LIGW U 5 
       LIGW V 5 
       LIGW W 5 
       LIGW V 5 
       LIGW U 5 
       LIGW V 5
       LIGW W 5
       LIGW T 5 A_PlaySound(LnGuardplea2)
       LIGW U 5
       LIGW V 5
       LIGW W 5
       RISE E 5
       RISE F 5 A_PlaySound(LnGuardFake)
       RISE G 1 A_Fall
	   Goto Faking
	Faking:
	   RISE G 1 
	   RISE G 0 A_JumpIfInTargetLOS("Faking",120)
	   RISE G 1
       Goto Rising
    Rising:
       RISE A 5 A_Fall
       RISE B 5
       RISE C 5
       RISE D 5
       RISE D 0 A_SpawnItemEx("LGuardAltDeath2",0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL,0,tid)	
       RISE D 0 A_Die("Remove")
	   Stop
	Remove:
		TNT1 A 1
		Stop
    Pain:
	   Goto Pleading
    Death.QuakeElectric:
	Death.NotQuadded:
	Death.QuakeExplosive:
		TNT1 A 0 A_JumpIfHealthLower(-50, "XDeathForRanger")
		goto Death
	XDeath.QuakeElectric:
	XDeath.NotQuadded:
	XDeath.QuakeExplosive:
	XDeathForRanger:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)  
		TNT1 A 0 A_SpawnItemEx("QuakeGibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 A_Fall
		TNT1 A 5 A_FadeOut					
		Stop
	Death.BittermanDamage:
		TNT1 A 0 A_JumpIfHealthLower(-50, "XDeathForBitterman")
		goto Death
	XDeathForBitterman:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)  
		TNT1 A 0 A_SpawnItemEx("Q2GibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 A_Fall
		TNT1 A 5 A_FadeOut					
		Stop
    Death.ZorchPistol:
    Death.Zorch:
    Death.ZorchKamikaze:
    Death.PhasingZorch:
    Death.ZorchSpectral:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
		"####" "#" 3 A_SpawnItem("ZorchEffectSmall")
		"####" "#" 0 A_GiveInventory("EnemyZorched",1)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 A_Scream
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 3 A_SetTranslucent(0.4,0)
		"####" "#" 3 A_SetTranslucent(0.3,0)
		"####" "#" 3 A_SetTranslucent(0.2,0)
		"####" "#" 3 A_SetTranslucent(0.1,0) 
		TNT1 A 1 A_SetTranslucent(1,0)
		TNT1 A -1
		stop	
    Disintegrate:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_ChangeFlag("SOLID",FALSE)
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_Stop
		"####" "#" 3 A_SpawnItem("DisintEffectSmall",0,10)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
		stop
	Death.Nuke:
		"####" "#" 0 A_ChangeFlag("SOLID", 0)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_NoBlocking		
		"####" "#" 0 A_SpawnItem("WTNukeDeathSmall")
		"####" "#################" 3 A_Fadeout(0.05)
		stop		
    Death.DukeIce:
		"####" "#" 0 A_PlaySound("duke/enemyfreeze")
		"####" "#" 0 A_GiveInventory("FreezethrowerWeakness")
		"####" "#" 0 A_Jump(218,"Ice")
		"####" "#" 0 A_GiveToTarget("DukeKillTaunt",1)
	Ice:
	Death.HexenIce:
	Death.WTMeleeIce:
	Death.WTRangedIce:
	Death.Ice:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_GenericFreezeDeath
		"####" "#" 70 A_UnsetSolid
		"####" "#" 0 A_IceGuyDie
		"####" "#" 1 A_IceGuyDie
		stop
    Death: 
       TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
       TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")	   
       TNT1 A 0 A_NoBlocking
       LIGW X 5 
       LIGW Y 5 A_Scream
       LIGW Z 5 
       LIGW [ 4
       LIGW ] -1
       Stop
	XDeathCaleb:
	    TNT1 A 0 A_UnsetSolid
        TNT1 A 0 A_Jump(96, 2)
        TNT1 A 0 A_GiveToTarget("CalebDMTaunt1",1)
		TNT1 A 0
	    Goto XDeath  
    Death.EradExplosive:
	Death.EradNova:
	Death.EradShock:  
   		TNT1 A 0 A_JumpIfHealthLower(-5, "EleenaXDeath")
	    Goto EleenaDeath
    Death.EradDisc:
	Death.EradPiercingDart:
	Death.EradExplosive2:	  
	EleenaDeath: 
		TNT1 A 0 A_Jump(218, 2)
		TNT1 A 0 A_GiveToTarget("EleenaDMTaunt1", 1)
		TNT1 A 0
	    Goto Death
	EleenaXDeath:
	    TNT1 A 0 A_UnsetSolid
        TNT1 A 0 A_Jump(96, 2)
        TNT1 A 0 A_GiveToTarget("EleenaGibTaunt",1)
		TNT1 A 0
	    Goto XDeath
	Death.DukeDamage:
	Death.DukePistol:
		TNT1 A 0 A_Jump(218,"Death")
		TNT1 A 0 A_GiveToTarget("DukeKillTaunt",1)
		goto Death
	Death.MightyBoot:
		TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
		TNT1 A 0 A_Jump(64,"Death")
		TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
		goto Death
	Death.DukeExplosive:
		TNT1 A 0 A_JumpIfHealthLower(-3,"DukeGibStart")
		Goto Death.DukeDamage			
	DukeGibStart:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnDebris("DukeGibs1")
		TNT1 A 0 A_SpawnDebris("DukeGibs2")
		TNT1 A 0 A_SpawnDebris("DukeGibs3")
		TNT1 A 0 A_SpawnDebris("DukeGibs4")
		TNT1 A 0 A_SpawnDebris("DukeGibs5")
		TNT1 A 0 A_SpawnDebris("DukeGibs6")
		TNT1 A 0 A_PlaySound("duke/enemygib")
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("DukeGibTaunt",1)			
		Goto XDeath	
	Death.SWFist:
		TNT1 A 0 A_GiveToTarget("SWLoWangBloody", 1)
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_SpawnItemEx("SWFisted")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death	
	Death.SWKatana:
		TNT1 A 0 A_GiveToTarget("SWLoWangBloody", 1)
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_SpawnItemEx("SWKatanad")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death	
	Death.SWShuriken:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_SpawnItemEx("SWShurikend")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death
	Death.SWSticky:
    Death.SWStickyCoop:	
	Death.SWGrenade:
	Death.SWNuke:
	Death.SWRocket:
	Death.SWRailgun:
	Death.SWRailgunCoop:
	Death.SWNukeCoop:
		TNT1 A 0 A_JumpIfHealthLower(-3,"XDeathForWang")
    Death.SWBullet:	  
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death
	XDeathForWang:
	    TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("SWHumanGibSpawner")	
		TNT1 A 0 A_Jump(218, "XDeath")	
        TNT1 A 0 A_GiveToTarget("LoWangDMTaunt2",1)
		goto XDeath
	Death.PSRAPower:
	Death.PSRAPowerCoop:
	Death.PSExplosive:
	Death.PSExplosiveCoop:
		TNT1 A 0 A_JumpIfHealthLower(-30, "XDeathForJon")
	Death.PSBullet:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("JonDMTaunt1", 1)
		Goto Death
	XDeathForJon:
	    TNT1 A 0 A_UnsetSolid
        TNT1 A 0 A_Jump(96,"XDeath")
        TNT1 A 0 A_GiveToTarget("JonDMTaunt1",1)
		Goto XDeath		
	Death.LeonardDamage2:
	Death.LeonardDamage3:
		TNT1 A 0 A_JumpIfHealthLower(-20, "XDeathForLeonard")
	Death.LeonardDamage0:
	Death.LeonardDamage1:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LeonardDMTaunt1", 1)
		Goto Death
	XDeathForLeonard:
	    TNT1 A 0 A_UnsetSolid
        TNT1 A 0 A_Jump(96,"XDeath")
        TNT1 A 0 A_GiveToTarget("LeonardGibTaunt",1)
		Goto XDeath		
	Death.SWFlame:
	Death.SWFlame2:
	Death.SWFlame2Coop:
	Death.SWFlame3:	
		TNT1 A 0 A_Jump(218, "Burn")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Burn
	Death.PSFire:	
		TNT1 A 0 A_Jump(218, "Burn")
		TNT1 A 0 A_GiveToTarget("JonDMTaunt1", 1)
		Goto Burn
	Death.PhosFireCoop:
	Death.HexGreenFire:
	Death.QuakeFire:
	Death.FireExplosive:
	Death.WolfenFlamethrower:	  
	Death.MarathonPlasma:
	Death.RottFire:
	Burn:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItem("BurningSkeleton")
		TNT1 A 5 A_NoBlocking
		Stop	
	Death.RottExplosive:
	   TNT1 A 0 A_JumpIfHealthLower(-3,"XDeath")
	   Goto Death		
	XDeath:
	   TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
	   TNT1 A 0 A_SpawnItem("RottGibbedMan")
	   TNT1 A 1
	   TNT1 A 0 A_Jump(128, 2)
	   TNT1 A 0 A_GiveToTarget("LudicrousGibsItem", 1)
	   TNT1 A 0
	   TNT1 A 5 A_NoBlocking
	   Stop
	Death.RottDisintegrate:
		TNT1 A 0 A_ChangeFlag("SOLID", 0)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_Scream
		TNT1 A 5 A_SpawnItem("RGodModeDeath")
		stop	
	}
}

ACTOR LGuardAltDeath2 : LightningGuard {
   Tag "Lightning Guard"
   Health 10
   +LOOKALLAROUND
   SeeSound ""
   states {
	 Pain:
		   TNT1 A 0 a_jump(128, "Pain2")
		   LIGW J 3
		   LIGW J 4 A_Pain
		   Goto See
	 Pain2:
		   LIGW I 3
		   LIGW I 4 A_Pain
		   Goto See
	 Plead:
		Goto death
	 Death.ZorchPistol:
	 Death.Zorch:
	 Death.ZorchKamikaze:
	 Death.PhasingZorch:
	 Death.ZorchSpectral:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
		"####" "#" 3 A_SpawnItem("ZorchEffectSmall")
		"####" "#" 0 A_GiveInventory("EnemyZorched",1)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 A_Scream
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 3 A_SetTranslucent(0.4,0)
		"####" "#" 3 A_SetTranslucent(0.3,0)
		"####" "#" 3 A_SetTranslucent(0.2,0)
		"####" "#" 3 A_SetTranslucent(0.1,0) 
		TNT1 A 1 A_SetTranslucent(1,0)
		TNT1 A -1
		stop	
	 Death:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
        TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")	 
		TNT1 A 0 A_Fall
		LIGW K 5 
		LIGW L 6 A_Scream
		LIGW M 7 
		LIGW N 6
		LIGW O -1
		Stop
	}
}

Actor LightningGuardDrop {
	Height 5
	Radius 5
	+NOCLIP
	+FLOORCLIP
	States {
		Spawn:
			TNT1 A 0 
			TNT1 A 0 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,4,0)
			TNT1 A 15
			TNT1 A 0 A_JumpIfInventory("WeaponDropToken", 1, "Spawn2")
			TNT1 A 1 Bright 
			Stop
		Spawn2:
			TNT1 A 1 Bright A_DropItem("RoTTPistolDrop", 1, 256)
			Stop
	}
}

Actor MissileStock : Inventory { inventory.maxamount 5 }

Actor HeavyGuard : LightningGuard {
   Tag "Lightning Guard"
	Obituary "%o didn't expect a Lightning Guard to carry a bazooka."
	DropItem "Ammo3Small", 96
	//DropItem "HeavyGuardHeatSeeker", 64
	DropItem "HeavyGuardBazooka", 64
	States {
	   Spawn:
		   LIGW A 0
		   LIGW A 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
		   LIGW A 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
		   LIGW A 0 A_GiveInventory("AlreadySpawned",1)
		Spawn2:
		   TNT1 A 0
		   TNT1 A 0 A_GiveInventory("MissileStock", random(2,5))
	   SpawnLoop:
	       LIGW A 10 A_Look
		   Loop
	   Idle:
	       LIGW A 10 A_Look
		   Loop	   
	   Missile:
		   TNT1 A 0 A_JumpIFInventory("MissileStock", 1, "FireHeatSeeker")
		   Goto Super::Missile
	   FireRocket:
	       LIGW F 8 A_FaceTarget
		   LIGW G 8 Bright A_CustomMissile("MissileLow", 44)
		   LIGW H 8
		   TNT1 A 0 A_TakeInventory("MissileStock", 1)
		   Goto See
	   FireHeatSeeker:
	       LIGW F 8 A_FaceTarget
		   LIGW G 8 Bright A_CustomMissile("HSMissile_2", 44)
		   LIGW H 8
		   TNT1 A 0 A_TakeInventory("MissileStock", 1)
		   Goto See		
	}
}

ACTOR HeavyGuardHeatSeeker : SamsaraSlotThreeDrop
{
	+DROPPED
	States
    {
      Spawn:
        PHSE A -1
        stop
	  Pickup:
		Goto "Super::Pickup"
    }
}

ACTOR HeavyGuardBazooka : SamsaraSlotOneDrop
{
	+DROPPED
	States
    {
      Spawn:
        PBAZ A -1
        stop   
    }
}

actor MissileLow {
    Radius 10
    Height 12
    Speed 24
    Damage (0)
    SCALE 0.6
    PROJECTILE
    +EXTREMEDEATH
    +BRIGHT
    damagetype "flame"
	ActiveSound "missile/fly"
    DeathSound "god/bang"
    States {
    Spawn:  
		TNT1 A 0 
		TNT1 A 0 A_LoopActiveSound
	SpawnLoop:	
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        Loop
    Death:
        EXPL AAB 1 Bright
		TNT1 A 0 A_RadiusThrust(1250, 96)
		EXPL BCC 1 Bright
		TNT1 A 0 A_Explode(50, 96)
		EXPL DDEEFFGGHHIIJJKKLLMMNNOOPPQQRRSSTT 1 Bright
        Stop
    }
}

Actor StoleWeapon : Inventory {	inventory.maxamount 9 }
Actor LightningGuardCrezzyMan : Inventory {	inventory.maxamount 1 }

Actor HSMissile_2 : HSMissile
{ 
	Speed 20 
	Damage (0) 
	Species "Enemies" 
	+DONTHARMCLASS 
	+DONTHARMSPECIES 
	-FOILINVUL
	-SCREENSEEKER
	-LOOKALLAROUND
	States
	{
     Spawn:
       MISS A 0  
       TNT1 A 0 a_playsound("missile/fly",CHAN_AUTO,1.0,1,ATTN_NORM)
	 SpawnLoop:  
       MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0) 
       MISS A 0 //a_seekermissile(20,50,SMF_LOOK,256)	   
       MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0) 
       MISS A 0 a_seekermissile(3,5,SMF_LOOK,256)	   
       MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0) 	   
       LOOP
     Death:  
		TNT1 A 0 A_StopSound(CHAN_AUTO)
    	EXPL A 2 Bright A_Explode(50,48,1)
        EXPL BCDEFGHIJKLMNOPQRST 2 Bright
        Stop
    }
}  	

actor SMissile1Low
{
    
    Radius 11
    Height 6
    Speed 20
    Damage (50)
	damagetype "RottExplosive"
    SCALE 0.50
    PROJECTILE
	Decal Scorch
//  +SCREENSEEKER
	+NOBLOOD
    +BLOODLESSIMPACT
    -SEEKERMISSILE
    +EXTREMEDEATH
	+THRUGHOST
	-THRUSPECIES
	+WINDTHRUST
    DeathSound "missile/die"
	ActiveSound "missile/fly"
    States
    {
    Spawn:
		TNT1 A 0
        MISS A 0 A_LoopActiveSound		
		TNT1 A 0 A_PlaySound("split/split2")
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        MISS A 0 A_ChangeVelocity (5.0, -2.5, 0.0,1)
        MISS A 0 A_SetAngle(-9.0 + angle)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)		
        goto misc
    Misc:
		MISS A 0 a_seekermissile(5,5)
    	MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
		MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
		MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
		MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        Loop
    Death:  
    	EXPL A 2 Bright A_Explode(12,64)
        EXPL BCDEFGHIJKLMNOPQRST 2 Bright
        Stop
    }
}


actor SMissile2Low
{
    
    Radius 11
    Height 6
    Speed 21
    Damage (50)
	damagetype "RottExplosive"
    SCALE 0.50
    PROJECTILE
	Decal Scorch
//  +SCREENSEEKER
	+NOBLOOD
	+BLOODLESSIMPACT
	+WINDTHRUST
    -SEEKERMISSILE
	+THRUGHOST
    +EXTREMEDEATH
	-THRUSPECIES
    DeathSound "missile/die"
	ActiveSound "missile/fly"
    States
    {
    Spawn:
		TNT1 A 0
        MISS A 0 A_LoopActiveSound		
		TNT1 A 0 A_PlaySound("split/split2")		
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        MISS A 0 A_ChangeVelocity (5.0, 2.5, 0.0,1)
        MISS A 0 A_SetAngle(9.0 + angle)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        goto misc
    Misc:    
		MISS A 0 a_seekermissile(5,5)
    	MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		MISS A 0 a_seekermissile(5,5)
        MISS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        Loop    
    Death:  
    	EXPL A 2 Bright A_Explode(12,64)
        EXPL BCDEFGHIJKLMNOPQRST 2 Bright
        Stop
    }
}

actor FbombLow
{ 
    Radius 12
    Height 6
    Speed 14
    Damage 15
    damagetype "RottExplosive"
    SCALE 0.55 
    PROJECTILE
	+WINDTHRUST
	+THRUGHOST
	+NOBLOOD
	+BLOODLESSIMPACT
	+FORCERADIUSDMG	
    DeathSound "gen/expl2"
	ActiveSound "missile/fly"
	Decal Scorch
    States
    {
    Spawn:
		TNT1 A 0
        TNT1 A 0 A_LoopActiveSound
	SpawnLoop:	
        FMIS AAAAAAA 2 Bright A_CustomMissile("MissileTrail",0,0,0,0)    
        Loop
    Death:
        TNT1 A 0 A_NoGravity
		TNT1 A 2 A_Explode(8,64)
//      TNT1 A 0 Radius_Quake(5, 60,0, 16, 0)
        TNT1 A 0 A_CustomMissile("FbomberLow", 0, 0, 0, 6)
        TNT1 A 0 A_CustomMissile("FbomberLow", 0, 0, 90, 6)
        TNT1 A 0 A_CustomMissile("FbomberLow", 0, 0, 180, 6)
        TNT1 A 0 A_CustomMissile("FbomberLow", 0, 0, 270, 6)
		TNT1 A 0 A_CustomMissile("FbombEffect", 0)
		BOMB ABCDEFGHIJKLMNOPQRST 2 Bright
        Stop
    }
}

ACTOR FbomberLow
{
      Height 1
	  Radius 1
	  Damage 0
	  damagetype "RottExplosive"
	  PROJECTILE
	 //Species "Monster"	  
	 //+THRUSPECIES
	 +THRUACTORS
     +NOEXPLODEFLOOR
     +RIPPER
	 +STEPMISSILE
	 +NOBLOOD
	 +BLOODLESSIMPACT
     Speed 12
	 MaxStepHeight 24 
     States
     {
		Spawn:
		  TNT1 A 5
          TNT1 A 5 A_CustomMissile("FbomingLow", 1, 0, 0, 6)
          TNT1 A 5 A_CustomMissile("FbomingLow", 1, 0, 0, 6)
          TNT1 A 5 A_CustomMissile("FbomingLow", 1, 0, 0, 6)
          TNT1 A 5 A_CustomMissile("FbomingLow", 1, 0, 0, 6)
        Stop
     }
}

ACTOR FbomingLow
{
    Radius 1
    Height 1
    Speed 0
    Scale 0.52
	Damage 0
	PROJECTILE
	damagetype "RottExplosive"
  //Species "Monster"
  //+FORCERADIUSDMG
	+THRUACTORS  
	+NOBLOOD
	+BLOODLESSIMPACT
   //+THRUSPECIES
	+RIPPER
    +NOGRAVITY
    +NOEXPLODEFLOOR
    States
    {
     Spawn:
		TNT1 A 0
		TNT1 A 0 A_PlaySound ("gen/expl1",CHAN_AUTO,1.0)
     Spawned:
          TNT1 A 0 A_Explode(6,96)
		  TNT1 A 0 A_Explode(4,80,0)		  
          BOMB ABCDEFGHIJKLMNOPQRST 2 Bright
          Stop
    }
}

actor DrunkMLow
{
    
    Radius 11
    Height 6
    Speed 14
    Damage (8) //(25)
    SCALE 0.50
    PROJECTILE
	Decal Scorch
	+NOBLOOD
//	+BLOODLESSIMPACT
	+BloodSplatter
    +SEEKERMISSILE
    +EXTREMEDEATH
	+THRUGHOST
	-THRUSPECIES
	+WINDTHRUST
    DamageType "RottExplosive"
    DeathSound "god/bang"
    Obituary "%o \cbsobered up once\c- %k \cbdrunk missiled %h\c-"
	ActiveSound "missile/fly"
    States
    {
    Spawn:
		TNT1 A 0
		TNT1 A 0 A_LoopActiveSound
        FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        FMIS A 1 Bright A_ChangeVelocity (1.0, random(-2.0,2.0), random(0.0, 2),1) 
        FMIS A 0 a_seekermissile(5,20)
        FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        FMIS A 0 a_seekermissile(5,20)
        FMIS A 1 Bright A_ChangeVelocity (1.0, random(-2.0,2.0), random(-1,1),1) 
        FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        FMIS A 0 a_seekermissile(5,20)
        FMIS A 1 Bright A_ChangeVelocity (1.0, random(-2,2), random(-1.0,1.0),1) 
        goto flight
      Flight:
        FMIS A 0 a_seekermissile(5,20)
        FMIS A 1 Bright A_ChangeVelocity (1.0, random(-2,2), random(-1,1),1) 
        FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        FMIS A 0 a_seekermissile(10,20)
        FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
		FMIS A 1 Bright A_CustomMissile("MissileTrail",0,0,0,0)
        loop
    Death:
    	EXPL A 0 A_Explode(10,40)
        EXPL ABCDEFGHIJKLMNOPQRST 2 Bright
        Stop
    }
} 

ACTOR FwallerLow
{
	 PROJECTILE
//  +RANDOMIZE
	+FLOORHUGGER
	-DONTRIP
	+STEPMISSILE
	+NOBLOOD
	+BLOODLESSIMPACT
     Scale 0.6
     MaxStepHeight 88
	 MaxDropOffHeight 124 	 
     Damage 0
	 damagetype "RottFire"
	 Obituary "%o \cbis nice and crispy, thanks to\c- %k."
     speed 28
     States
     {
     Spawn:
		  TNT1 A 0
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, 0, 0, 6, 0)
          TNT1 A 2
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, 32, 0, 6, 0)
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, -32, 0, 6, 0)
          TNT1 A 2
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, 64, 0, 6, 0)
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, -64, 0, 6, 0)
          TNT1 A 2
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, 96, 0, 6, 0)
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, -96, 0, 6, 0)
          TNT1 A 2
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, 128, 0, 6, 0)
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, -128, 0, 6, 0)
          TNT1 A 2
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, 160, 0, 6, 0)
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, -160, 0, 6, 0)
          TNT1 A 2
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, 192, 0, 6, 0)
          TNT1 A 0 Bright A_CustomMissile("FwallingLow", 0, -192, 0, 6, 0)
		  stop
     Death:		  
     Crash:
		  TNT1 A 1
		  stop
     }
}

actor FwallLow
{
    Radius 11
    Height 6
    Speed 15
    Damage (Random(Random(8,10),13)) //MEEP
    Mass 5000
	Decal Scorch
    SCALE 0.50
    PROJECTILE
	+NOBLOOD
	+BLOODLESSIMPACT
    +FOILINVUL
    Damagetype "RottExplosive"
    DeathSound "god/bang"	
	Obituary "%o was roasted by a Lightning Guard."
    States
    {
    Spawn:
        FMIS A 4 Bright    
        FMIS A 2 Bright A_Gravity
		Loop
	Death:
		TNT1 A 0
		FMIS A 1 A_JumpIf(z - floorz > 0,"ExplosionOnly")
		Goto SpawnWall
	SpawnWall:
		TNT1 A 0 A_StopSound(CHAN_BODY)
	    TNT1 A 0 A_Stop
        TNT1 A 0 A_NoGravity
		TNT1 A 0 A_PlaySound("FireWall/Burn")		
		TNT1 A 5 A_CustomMissile("FWallerLow", 0, 0, 0, 6)		
		Stop
	ExplosionOnly:
		TNT1 A 0 A_PlaySound("gen/expl2",6,1.0,0,ATTN_NORM)		
	    TNT1 A 0 A_Stop
        TNT1 A 0 A_NoGravity
		EXPL A 2 Bright A_Explode(16,64)
        EXPL BCDEFGHIJKLMNOPQRST 2 Bright		
		Stop	
	Crash:	
		TNT1 A 0 A_PlaySound("gen/expl2",6,1.0,0,ATTN_NORM)
		TNT1 A 0 A_Jump(250,2)
		TNT1 A 0 A_PlaySound("rmissile/cook",5,1.0,0,ATTN_NORM)		
		TNT1 A 0		
	    TNT1 A 0 A_Stop
        TNT1 A 0 A_NoGravity
		EXPL A 2 Bright A_Explode(16,64)
        EXPL BCDEFGHIJKLMNOPQRST 2 Bright
		Stop	
	XDeath:
		TNT1 A 0 A_PlaySound("gen/expl2",6,1.0,0,ATTN_NORM)	
	    TNT1 A 0 A_Stop
        TNT1 A 0 A_NoGravity
		EXPL A 2 Bright A_Explode(16,64)
        EXPL BCDEFGHIJKLMNOPQRST 2 Bright
		Stop
    }
}

ACTOR FwallingLow
{
     PROJECTILE
	 -DROPOFF
	 +NODROPOFF
	 +NOBLOOD
	 +BLOODLESSIMPACT
//   +RANDOMIZE
     +RIPPER
     +NOEXPLODEFLOOR
	 -DONTRIP
	 +FLOORHUGGER
	 +PUFFGETSOWNER
	 -THRUGHOST
	 -MOVEWITHSECTOR
	 +STEPMISSILE
//	 +FORCERADIUSDMG
	 +NODAMAGETHRUST
	 +PAINLESS	
     Scale 0.6
     MaxStepHeight 88
	 MaxDropOffHeight 124 	 
     Damage 10
	 Radius 5
	 Height 12
     speed 14
     damagetype "RottFire"
	 Obituary "%o \cbis nice and crispy, thanks to\c- %k."
     RenderStyle Add
     Alpha 0.95
     DeathSound "god/bang"
     States
     {
     Spawn:
        FWAL A 4 Bright
        FWAL BCDEFGHIJKLM 2 Bright
        Loop
     Death:  
        BOMB ABCDEFGHIJKLMNOPQRST 2 Bright
        Stop
     }
}

actor BaseballLow
{
    Radius 11
    Height 8
    Speed 25
    Damage 3
    SCALE 0.50
    PROJECTILE
    +EXTREMEDEATH
    +FOILINVUL
	+WINDTHRUST
    DeathSound "god/bang"
    DamageType "RottExplosive"	
    States
    {
    Spawn:
        BSA7 AABBCCDD 1 Bright A_CustomMissile("MissileTrail",0,0,0,0) 
        Loop
    Death:
		TNT1 A 0 A_Explode(6, 128, 0)
		TNT1 A 0 A_Explode(6, 128)
        BOMB ABCDEFGHIJKLMNOPQRST 2 Bright
        Stop
    }
}

actor Ksphere_RottLow
{
    Radius 11
    Height 8
    Speed 60
    Damage (50)
    +RIPPER
    +MISSILE
    +EXTREMEDEATH
	+FORCERADIUSDMG
    PROJECTILE
    RENDERSTYLE Normal
    damagetype "RottExplosive"	
    SCALE 0.6
    SeeSound "ksphere/projectile"
    DeathSound "ksphere/death"
    States
    {  
      Spawn:
		KSP_ ABCDEFIJ 1  BRIGHT
		Loop
      Death:
	  XDeath:	  
		TNT1 A 0 A_PlaySound("gen/expl2",6,1.0,0,ATTN_NORM)	  
		EXPL A 1 Bright A_Explode(20,128)
		NULL AA 0 A_SpawnItemEx("Rott_ash1",0.0,0.00,16.00,random(5.00,10.00),random(5.00,10.00),random(5.00,10.00),random(0,360),SXF_CLIENTSIDE)
		EXPL A 1 Bright
		NULL AA 0 A_SpawnItemEx("Rott_ash1",0.0,0.00,16.00,random(5.00,10.00),random(5.00,10.00),random(5.00,10.00),random(0,360),SXF_CLIENTSIDE)
		EXPL B 1 Bright
		NULL AA 0 A_SpawnItemEx("Rott_ash1",0.0,0.00,16.00,random(5.00,10.00),random(5.00,10.00),random(5.00,10.00),random(0,360),SXF_CLIENTSIDE)
		EXPL B 1 Bright
		NULL AA 0 A_SpawnItemEx("Rott_ash1",0.0,0.00,16.00,random(5.00,10.00),random(5.00,10.00),random(5.00,10.00),random(0,360),SXF_CLIENTSIDE)
		EXPL C 1 Bright
		NULL AA 0 A_SpawnItemEx("Rott_ash1",0.0,0.00,16.00,random(5.00,10.00),random(5.00,10.00),random(5.00,10.00),random(0,360),SXF_CLIENTSIDE)
		EXPL C 1 Bright
		EXPL DEFGHIJKLMNOPQRS 2 Bright 
		EXPL T 2 Bright A_FadeOut
		Stop
	  Crash: 
		TNT1 A 0 A_PlaySound("gen/expl2",6,1.0,0,ATTN_NORM)
		TNT1 A 0 A_Jump(250,2)
		TNT1 A 0 A_PlaySound("rmissile/cook",5,1.0,0,ATTN_NORM)		  
		TNT1 A 0	   
		EXPL A 1 Bright A_Explode(20,128)
		NULL AA 0 A_SpawnItemEx("Rott_ash1",0.0,0.00,16.00,random(5.00,10.00),random(5.00,10.00),random(5.00,10.00),random(0,360),SXF_CLIENTSIDE)
		EXPL A 1 Bright
		NULL AA 0 A_SpawnItemEx("Rott_ash1",0.0,0.00,16.00,random(5.00,10.00),random(5.00,10.00),random(5.00,10.00),random(0,360),SXF_CLIENTSIDE)
		EXPL B 1 Bright
		NULL AA 0 A_SpawnItemEx("Rott_ash1",0.0,0.00,16.00,random(5.00,10.00),random(5.00,10.00),random(5.00,10.00),random(0,360),SXF_CLIENTSIDE)
		EXPL B 1 Bright
		NULL AA 0 A_SpawnItemEx("Rott_ash1",0.0,0.00,16.00,random(5.00,10.00),random(5.00,10.00),random(5.00,10.00),random(0,360),SXF_CLIENTSIDE)
		EXPL C 1 Bright
		NULL AA 0 A_SpawnItemEx("Rott_ash1",0.0,0.00,16.00,random(5.00,10.00),random(5.00,10.00),random(5.00,10.00),random(0,360),SXF_CLIENTSIDE)
		EXPL C 1 Bright
		EXPL DEFGHIJKLMNOPQRS 2 Bright 
		EXPL T 2 Bright A_FadeOut
		Stop	   
    }    
}

actor LightningGuard_Shrink : LightningGuard
{
	+FRIGHTENED
	+NOTRIGGER
	-SHOOTABLE
	+THRUACTORS
	+NORADIUSDMG
	+VULNERABLE
	+QUICKTORETALIATE
	+COUNTKILL
	-NOGRAVITY
	+NODAMAGE
	+NOPAIN
	MaxStepHeight 0
	MaxDropOffHeight 0
	MeleeRange 16
	Height 16
	Health 1
	Speed 1
	PainChance "ShrinkDMG", 0
	DamageFactor "ShrinkDMG", 0.0
	PainChance "ExpanderDMG", 0
	DamageFactor "ExpanderDMG", 0.0
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIfInventory("ShrunkToken",1,"SpawnLoop")
			TNT1 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			TNT1 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			TNT1 A 0 A_SetScale(scalex*0.2,scaley*0.2) // setting the scale in ACS does work, but the actor shows up at normal size for a split second
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_Shrinker", 0, 1)
			LIGP A 10
			Goto See
		SpawnLoop:
			LIGW A 10 A_Look
			Loop
		See:
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			LIGW B 3 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			LIGW B 2 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			LIGW C 3 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			LIGW C 2 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			LIGW D 3 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			LIGW D 2 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			LIGW E 3 A_Chase("","")
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			LIGW E 2 A_Chase("","")
			"####" "#" 0 A_JumpIf(CallACS("Samsara_Shrinker", 3) == 0, "Forget")
			Loop
		Forget:
			"####" "#" 0 A_ClearTarget
			Goto See
		Grow:
			"####" "#" 4 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(1.0*(user_scalex/65536.0),1.0*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("LightningGuard", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 2 Thing_Remove(0)
			stop
		Squish:
			"####" "#" 0 A_GiveInventory("SquishToken", 1)
			"####" "#" 0 A_JumpIfInTargetInventory("DukeStomp", 1, 2)
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 2 
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 0 
			"####" "#" 2 A_Die("Squish")
			"####" "#" 0
			loop
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			stop
		DukeStomp:
			"####" "#" 0 A_GiveToTarget("DukeStomp", 1)
			Goto Squish
	}
}

actor LightningGuard_ShrinkEffect : LightningGuard
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY	
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			LIGP A 0
			LIGP A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			LIGP A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}